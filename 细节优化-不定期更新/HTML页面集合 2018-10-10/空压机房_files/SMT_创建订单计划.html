<!DOCTYPE html>
<html style="" class=" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients no-cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths"><head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMT_创建订单计划 - 健和光电MES</title>
    <script src="SMT_%E5%88%9B%E5%BB%BA%E8%AE%A2%E5%8D%95%E8%AE%A1%E5%88%92_files/jquery"></script>

    <script src="SMT_%E5%88%9B%E5%BB%BA%E8%AE%A2%E5%8D%95%E8%AE%A1%E5%88%92_files/jqueryform"></script>

    <script src="SMT_%E5%88%9B%E5%BB%BA%E8%AE%A2%E5%8D%95%E8%AE%A1%E5%88%92_files/jqueryval"></script>

    <script src="SMT_%E5%88%9B%E5%BB%BA%E8%AE%A2%E5%8D%95%E8%AE%A1%E5%88%92_files/jqueryvalAll"></script>

    <script src="SMT_%E5%88%9B%E5%BB%BA%E8%AE%A2%E5%8D%95%E8%AE%A1%E5%88%92_files/home"></script>

    <script src="SMT_%E5%88%9B%E5%BB%BA%E8%AE%A2%E5%8D%95%E8%AE%A1%E5%88%92_files/common"></script>

    <link href="SMT_%E5%88%9B%E5%BB%BA%E8%AE%A2%E5%8D%95%E8%AE%A1%E5%88%92_files/easyui" rel="stylesheet">

    <link href="SMT_%E5%88%9B%E5%BB%BA%E8%AE%A2%E5%8D%95%E8%AE%A1%E5%88%92_files/easyuicss.css" rel="stylesheet">

    <script src="SMT_%E5%88%9B%E5%BB%BA%E8%AE%A2%E5%8D%95%E8%AE%A1%E5%88%92_files/modernizr"></script>

    <script src="SMT_%E5%88%9B%E5%BB%BA%E8%AE%A2%E5%8D%95%E8%AE%A1%E5%88%92_files/bootstrap"></script>

    <link href="SMT_%E5%88%9B%E5%BB%BA%E8%AE%A2%E5%8D%95%E8%AE%A1%E5%88%92_files/css.css" rel="stylesheet">

    <script src="SMT_%E5%88%9B%E5%BB%BA%E8%AE%A2%E5%8D%95%E8%AE%A1%E5%88%92_files/echarts"></script>

    <script src="SMT_%E5%88%9B%E5%BB%BA%E8%AE%A2%E5%8D%95%E8%AE%A1%E5%88%92_files/vue"></script>

    <script src="SMT_%E5%88%9B%E5%BB%BA%E8%AE%A2%E5%8D%95%E8%AE%A1%E5%88%92_files/highcharts.html"></script>

</head>
<body>
    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                
                <a class="navbar-brand" href="http://localhost:18863/">健和光电MES</a>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li class="dropdown">
                        
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            全厂温湿度
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu collapse" style="text-align: center; min-width: 114px;">
                            <li><a href="http://localhost:18863/KongYaHT/KongYa/FirstFloor">一楼</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/KongYaHT/KongYa/ThirdFloor">三楼</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/KongYaHT/KongYa/FourthFloor">四楼</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/KongYaHT/KongYa/FifthFloor">五楼</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/KongYaHT/KongYa/Sixthfloor">六楼</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/KongYaHT/KongYa/FloorDataShow">汇总表</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/KongYaHT/KongYa/OutputTHDataToExcel">导出数据</a></li>
                        </ul>
                    </li>
                    
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            空压机房
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu collapse" style="text-align: center; min-width: 114px;">
                            <li><a href="http://localhost:18863/KongYaHT/KongYa">空压机房</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/KongYaHT/KongYa/KYDataShow">汇总表</a></li>
                        </ul>
                    </li>
                    
                    <li><a href="http://localhost:18863/ProductionControl">生产管控</a></li>
                    
                    
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            PC部
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu collapse" style="text-align: center; min-width: 114px;">
                            <li><a href="http://localhost:18863/OrderMgms">订单管理</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/BarCodes">条码管理</a></li>
                        </ul>
                    </li>

                    
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            装配一部
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu collapse" style="text-align: center; min-width: 114px;">
                            <li><a href="http://localhost:18863/Assembles/AssembleIndex">组装产线</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/CalibrationRecords">校正信息</a></li>
                        </ul>
                    </li>

                    
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            品质部
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu collapse" style="text-align: center; min-width: 114px;">
                            
                            <li><a href="http://localhost:18863/Burn_in">老化OQC</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/Appearances">外观包装</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/IQCReports">IQC管理</a></li>
                        </ul>
                    </li>
                    

                    

                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            SMT部
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu collapse" style="text-align: center; min-width: 114px;">
                            <li><a href="http://localhost:18863/SMT/SMT_Mangage">看板管理</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/SMT/SMT_ProductionInfo">生产信息</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/SMT/SMT_Operator">产线操作</a></li>
                        </ul>
                    </li>
                        <li><a href="http://localhost:18863/Users">用户管理</a></li>
                </ul>

                <div class="collapse navbar-collapse">
                    <ul class="nav navbar navbar-nav navbar-right">
                        <li>

                            
                            </li><li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                    郑振彪
                                    <b class="caret"></b>
                                </a>
                                <ul class="dropdown-menu collapse" style="text-align: center; min-width: 100px;">
                                    <li>
                                        <a href="http://localhost:18863/Users/Modifypwd/11">修改密码</a>
                                    </li>
                                </ul>
                            </li>
                            <li>
<a href="http://localhost:18863/Users/Logoff">退出</a>                            </li>
                        </ul>
                    </div>
                    
                </div>
            </div>
        </div>
        <div class="container body-content">
            

<style>
    .table > tbody > tr > th {
        text-align: center;
        vertical-align: middle;
    }

    .table > tbody > tr > td > input {
        text-align: center;
    }

    .table-bordered {
        border: none;
    }

    .topTitle td {
        border: none !important;
    }
</style>
<script src="SMT_%E5%88%9B%E5%BB%BA%E8%AE%A2%E5%8D%95%E8%AE%A1%E5%88%92_files/jquery-1.js"></script>
<script src="SMT_%E5%88%9B%E5%BB%BA%E8%AE%A2%E5%8D%95%E8%AE%A1%E5%88%92_files/vue.js"></script>
<h2>SMT_创建订单计划</h2>

<div id="app" class="form-horizontal"><hr> <table id="para_table" class="table table-bordered"><tbody><tr class="topTitle"><td colspan="5" style="color: green;"><span>Excel内容粘贴在此处</span> <textarea class="form-control" style="width: 130px; height: 35px; resize: none;"></textarea></td> <td style="color: green; text-align: center;"><span>选择日期</span> <input type="date" class="form-control" value="2018-10-30"></td> <td></td></tr> <tr><th>产线</th> <th>订单号</th> <th>客户</th> <th>平台类型</th> <th>数量</th> <th>创建记录日期</th> <th align="center"><button type="button" onclick="emptytable()" class="btn btn-link">清空</button></th></tr> <tr class="orderNum"><td><input type="number" onkeyup="value=value.replace(/[^\d]/g,'')" class="form-control" value="1"></td> <td><input class="form-control" value="2018-GY366-1/2"></td> <td><input class="form-control" value="科视"></td> <td><input class="form-control" value="VK II 1.9"></td> <td><input type="number" onkeyup="value=value.replace(/[^\d]/g,'')" class="form-control"></td> <td><input type="date" class="form-control everyDate" value="2018-10-30"></td> <td align="center"><button type="button" onclick="emptytr(this)" class="btn btn-link">清除</button></td></tr> <tr class="orderNum"><td><input type="number" onkeyup="value=value.replace(/[^\d]/g,'')" class="form-control" value="1"></td> <td><input class="form-control" value="2018-YY387-1"></td> <td><input class="form-control" value="美国"></td> <td><input class="form-control" value="FC6"></td> <td><input type="number" onkeyup="value=value.replace(/[^\d]/g,'')" class="form-control" value="137"></td> <td><input type="date" class="form-control everyDate" value="2018-10-30"></td> <td align="center"><button type="button" onclick="deleteParentTr(this)" class="btn btn-link">移除</button></td></tr><tr class="orderNum"><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="1"></td><td><input class="form-control" value="2018-YY345-2"></td><td><input class="form-control" value="美国"></td><td><input class="form-control" value="FI6"></td><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="21"></td><td><input class="form-control everyDate" type="date" value="2018-10-30"></td><td align="center"><button type="button" class="btn btn-link" onclick="deleteParentTr(this)">移除</button></td></tr><tr class="orderNum"><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="1"></td><td><input class="form-control" value="2018-YY392-1/2"></td><td><input class="form-control" value="美国"></td><td><input class="form-control" value="FC3"></td><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="152"></td><td><input class="form-control everyDate" type="date" value="2018-10-30"></td><td align="center"><button type="button" class="btn btn-link" onclick="deleteParentTr(this)">移除</button></td></tr><tr class="orderNum"><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="1"></td><td><input class="form-control" value="2018-YY419-2"></td><td><input class="form-control" value="美国"></td><td><input class="form-control" value="FS8"></td><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="3"></td><td><input class="form-control everyDate" type="date" value="2018-10-30"></td><td align="center"><button type="button" class="btn btn-link" onclick="deleteParentTr(this)">移除</button></td></tr><tr class="orderNum"><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="1"></td><td><input class="form-control" value="2018-YY327-5"></td><td><input class="form-control" value="德国"></td><td><input class="form-control" value="R3T"></td><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="8"></td><td><input class="form-control everyDate" type="date" value="2018-10-30"></td><td align="center"><button type="button" class="btn btn-link" onclick="deleteParentTr(this)">移除</button></td></tr><tr class="orderNum"><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="3"></td><td><input class="form-control" value="2018-GY380-1"></td><td><input class="form-control" value="印度"></td><td><input class="form-control" value="RE2S"></td><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')"></td><td><input class="form-control everyDate" type="date" value="2018-10-30"></td><td align="center"><button type="button" class="btn btn-link" onclick="deleteParentTr(this)">移除</button></td></tr><tr class="orderNum"><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="4"></td><td><input class="form-control" value="2018-GA535-1"></td><td><input class="form-control" value="大华"></td><td><input class="form-control" value="VH1.4"></td><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')"></td><td><input class="form-control everyDate" type="date" value="2018-10-30"></td><td align="center"><button type="button" class="btn btn-link" onclick="deleteParentTr(this)">移除</button></td></tr><tr class="orderNum"><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="4"></td><td><input class="form-control" value="2018-YY345-2"></td><td><input class="form-control" value="美国"></td><td><input class="form-control" value="FI6"></td><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="77"></td><td><input class="form-control everyDate" type="date" value="2018-10-30"></td><td align="center"><button type="button" class="btn btn-link" onclick="deleteParentTr(this)">移除</button></td></tr><tr class="orderNum"><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="4"></td><td><input class="form-control" value="2018-YY387-1"></td><td><input class="form-control" value="美国"></td><td><input class="form-control" value="FC6"></td><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="650"></td><td><input class="form-control everyDate" type="date" value="2018-10-30"></td><td align="center"><button type="button" class="btn btn-link" onclick="deleteParentTr(this)">移除</button></td></tr><tr class="orderNum"><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="5"></td><td><input class="form-control" value="2018-YY402-1"></td><td><input class="form-control" value="斯洛伐克"></td><td><input class="form-control" value="VL2.5"></td><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')"></td><td><input class="form-control everyDate" type="date" value="2018-10-30"></td><td align="center"><button type="button" class="btn btn-link" onclick="deleteParentTr(this)">移除</button></td></tr><tr class="orderNum"><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="5"></td><td><input class="form-control" value="2018-GY396-1"></td><td><input class="form-control" value="澳大利亚"></td><td><input class="form-control" value="FS6"></td><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="34"></td><td><input class="form-control everyDate" type="date" value="2018-10-30"></td><td align="center"><button type="button" class="btn btn-link" onclick="deleteParentTr(this)">移除</button></td></tr><tr class="orderNum"><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="5"></td><td><input class="form-control" value="2018-YA485-1"></td><td><input class="form-control" value="浙江"></td><td><input class="form-control" value="FI3"></td><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="78"></td><td><input class="form-control everyDate" type="date" value="2018-10-30"></td><td align="center"><button type="button" class="btn btn-link" onclick="deleteParentTr(this)">移除</button></td></tr><tr class="orderNum"><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="5"></td><td><input class="form-control" value="2018-YA468-1"></td><td><input class="form-control" value="联动"></td><td><input class="form-control" value="FS10"></td><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="82"></td><td><input class="form-control everyDate" type="date" value="2018-10-30"></td><td align="center"><button type="button" class="btn btn-link" onclick="deleteParentTr(this)">移除</button></td></tr><tr class="orderNum"><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="5"></td><td><input class="form-control" value="2018-YA468-2"></td><td><input class="form-control" value="联动"></td><td><input class="form-control" value="FS8"></td><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="61"></td><td><input class="form-control everyDate" type="date" value="2018-10-30"></td><td align="center"><button type="button" class="btn btn-link" onclick="deleteParentTr(this)">移除</button></td></tr><tr class="orderNum"><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="5"></td><td><input class="form-control" value="2018-GA487-1"></td><td><input class="form-control" value="厦门"></td><td><input class="form-control" value="/"></td><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')"></td><td><input class="form-control everyDate" type="date" value="2018-10-30"></td><td align="center"><button type="button" class="btn btn-link" onclick="deleteParentTr(this)">移除</button></td></tr><tr class="orderNum"><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="8"></td><td><input class="form-control" value="2018-GY366-1/2"></td><td><input class="form-control" value="科视"></td><td><input class="form-control" value="VK II 1.9"></td><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="910"></td><td><input class="form-control everyDate" type="date" value="2018-10-30"></td><td align="center"><button type="button" class="btn btn-link" onclick="deleteParentTr(this)">移除</button></td></tr><tr class="orderNum"><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="9"></td><td><input class="form-control" value="2018-GA535-1"></td><td><input class="form-control" value="大华"></td><td><input class="form-control" value="VH1.4"></td><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="770"></td><td><input class="form-control everyDate" type="date" value="2018-10-30"></td><td align="center"><button type="button" class="btn btn-link" onclick="deleteParentTr(this)">移除</button></td></tr><tr class="orderNum"><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="11"></td><td><input class="form-control" value="2018-K011-5"></td><td><input class="form-control" value="深圳"></td><td><input class="form-control" value="VPQ1.8"></td><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="336"></td><td><input class="form-control everyDate" type="date" value="2018-10-30"></td><td align="center"><button type="button" class="btn btn-link" onclick="deleteParentTr(this)">移除</button></td></tr><tr class="orderNum"><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="12"></td><td><input class="form-control" value="2018-YY402-1"></td><td><input class="form-control" value="斯洛伐克"></td><td><input class="form-control" value="VL2.5"></td><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="545"></td><td><input class="form-control everyDate" type="date" value="2018-10-30"></td><td align="center"><button type="button" class="btn btn-link" onclick="deleteParentTr(this)">移除</button></td></tr><tr class="orderNum"><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="13"></td><td><input class="form-control" value="2018-GY380-1"></td><td><input class="form-control" value="印度"></td><td><input class="form-control" value="RE2S"></td><td><input class="form-control" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" value="580"></td><td><input class="form-control everyDate" type="date" value="2018-10-30"></td><td align="center"><button type="button" class="btn btn-link" onclick="deleteParentTr(this)">移除</button></td></tr></tbody></table> <table class="table"><tbody><tr><td colspan="6" style="text-align: center; border-top: medium none;"><button id="addtrdiv" onclick="addtr()" class="btn btn-primary">增加一行</button></td></tr></tbody></table> <div id="setForm"></div> <div class="form-group"><div class="col-md-12"><input value="检查订单信息" type="button" class="btn btn-default"> <input value="创建" type="button" class="btn btn-default" style="display: none;"></div></div></div>
<div>
    <a href="http://localhost:18863/SMT/SMT_ProductionPlan">返回</a>
</div>

<script>
    function addtr() {
        app.okCreate = false;
        var table = $("#para_table");
        var tr = $("<tr class=\"orderNum\">" +
            "<td><input class=\"form-control\" type=\"number\" onkeyup=\"value=value.replace(/[^\\d]/g,'')\"></td>" +
            "<td><input class=\"form-control\"></td>" +
            "<td><input class=\"form-control\"></td>" +
            "<td><input class=\"form-control\"></td>" +
            "<td><input class=\"form-control\" type=\"number\" onkeyup=\"value=value.replace(/[^\\d]/g,'')\"></td>" +
            "<td><input class=\"form-control everyDate\" type=\"date\"></td>" +
            "<td  align=\"center\"><button type=\"button\" class=\"btn btn-link\" onclick=\"deleteParentTr(this)\">移除</button></td></tr>");
        table.append(tr);
    };

    function deleteParentTr(tdobject) {
        app.okCreate = false;
        var td = $(tdobject);
        td.parents("tr").remove();
    };
    function emptytable() {
        app.okCreate = false;
        var tr = $(".orderNum")
        tr.each(function (index, val) {
            $(val).children("td").each(function (i, v) {
                v.firstChild.value = "";
            })
        });
    };
    function emptytr(tdobject) {
        app.okCreate = false;
        var td = $(tdobject);
        td.parents("tr").children("td").each(function (index, val) {
            val.firstChild.value = "";
        })
    };
    function deletetr(tdobject) {
        var tr = $(tdobject);
        tr.remove();
    };
</script>
<script type="text/javascript">
    var app = new Vue({ //创建Vue对象实例
        el: "#app", //挂载DOM元素的ID
        data: {
            recordsArray: [],
            recordsJson: {},
            okNum: 0,
            emptyNum: 0,
            pasteExcel: "",
            okCreate: false,
            allDate: ""
        },
        methods: {
            checkPost: function (event) {
                //event.preventDefault();
                app.recordsArray = [];
                app.recordsJson = {};
                app.okNum = 0;
                app.emptyNum = 0;
                app.okCreate = false;
                $(".orderNum").each(function (index, val) {
                    if (val.children[0].firstChild.value != ""
                        || val.children[1].firstChild.value != ""
                        || val.children[2].firstChild.value != ""
                        || val.children[3].firstChild.value != ""
                        || val.children[4].firstChild.value != ""
                        || val.children[5].firstChild.value != "") {
                        if (val.children[0].firstChild.value != ""
                        && val.children[1].firstChild.value != ""
                        && val.children[2].firstChild.value != ""
                        && val.children[3].firstChild.value != ""
                        && val.children[4].firstChild.value != ""
                        && val.children[5].firstChild.value != "") {
                            app.recordsJson['LineNum'] = val.children[0].firstChild.value;
                            app.recordsJson['OrderNum'] = val.children[1].firstChild.value;
                            app.recordsJson['Customer'] = val.children[2].firstChild.value;
                            app.recordsJson['PlatformType'] = val.children[3].firstChild.value;
                            app.recordsJson['Quantity'] = val.children[4].firstChild.value;
                            app.recordsJson['CreateDate'] = val.children[5].firstChild.value;
                            //app.recordsJson['Status'] = val.children[5].firstChild.checked;
                            app.recordsArray.push(app.recordsJson);
                            app.recordsJson = {};
                            $(val.children).each(function (i, v) {
                                $(v.firstChild).next().remove("p");
                            });
                            app.okNum++;
                        } else {
                            $(val.children).each(function (i, v) {
                                $(v.firstChild).next().remove("p");
                                if (v.firstChild.value == "" && v.firstChild.type != "button") {
                                    $(v).append($("<p style=\"color:red\">内容不能为空</p>"));
                                }
                            });
                        };
                    } else {
                        app.emptyNum++;
                        $(val.children).each(function (i, v) {
                            $(v.firstChild).next().remove("p");
                        });
                    };
                });
                if (($(".orderNum").length - app.emptyNum) == app.okNum && app.okNum != 0) {
                    //alert("ok");
                    //console.log(app.recordsArray)
                    $.ajax({
                        type: 'post',
                        url: "/SMT/SMT_ProductionPlanCheck/",
                        data: {
                            records: JSON.stringify(app.recordsArray)
                        },
                        success: function (data) {
                            returnData = JSON.parse(data);
                            console.log(returnData);
                            var i = 0;
                            for (var val in returnData) {
                                if (returnData[val] == "此产线已存在该订单计划") {
                                    $(".orderNum").each(function (index) {
                                        if ($(".orderNum")[index].children[1].firstChild.value == val) {
                                            $($(".orderNum")[index].firstChild).append($("<p class=\"unqualified\" style=\"color:red\">此产线已存在该订单计划</p>"));
                                        };
                                    });
                                };
                                i++;
                            };
                            if ($(".unqualified").length == 0) {
                                app.okCreate = true;
                            };
                        },
                        error: function (XMLHttpRequest, textStatus, errorThrown) {
                            alert("POST失败")
                        }
                    });
                };
            },
            createPost: function (event) { //提交post内容
                this.$options.methods.postForm("/SMT/SMT_ProductionPlanCreate", JSON.stringify(app.recordsArray));
            },
            postForm: function (url, params) {
                var newForm = $("<form action=" + url + " method='post' style='display:none' ><input name='records' value=" + params + " ></form>");
                $("#setForm").append(newForm);
                newForm.submit();
                newForm.remove();
            }
        },
        computed: {

        },
        watch: {
            pasteExcel: function (val) {
                if (val == "") {
                    return false;
                };
                app.okCreate = false;
                var pasteQuantity = val.split("\n");
                pasteQuantity.pop();
                pasteQuantity.forEach(function (value, index) {
                    var cutPasteQuantity = value.split("\t")
                    pasteQuantity[index] = cutPasteQuantity;
                    //console.log(cutPasteQuantity);
                });
                //console.log(pasteQuantity);
                var tableLength = $(".orderNum").length;
                var pasteLength = pasteQuantity.length;
                console.log(pasteQuantity)
                console.log(tableLength);
                console.log(pasteLength);
                var lineNum = 1;
                if (tableLength < pasteQuantity.length) {
                    for (var i = 0; i < (pasteLength - tableLength) ; i++) {
                        addtr();
                    };
                    $(".orderNum").each(function (index, val) {
                        if (index < pasteLength) {
                            var isPlan = pasteQuantity[index][2];
                            if (isPlan == "无计划") {
                                deletetr(val);
                                lineNum++;
                            } else {
                                var pasteLine = pasteQuantity[index][0].replace(/[^\d]/g, '');
                                if (pasteLine == lineNum || pasteLine == "") {
                                    val.children[0].firstChild.value = lineNum;
                                } else {
                                    val.children[0].firstChild.value = pasteLine;
                                    lineNum++;
                                }
                                val.children[1].firstChild.value = isPlan;
                                val.children[2].firstChild.value = pasteQuantity[index][3];
                                val.children[3].firstChild.value = pasteQuantity[index][5];
                                val.children[4].firstChild.value = pasteQuantity[index][8];
                            };
                        };
                    });
                } else {
                    emptytable();
                    $(".orderNum").each(function (index, val) {
                        if (index < pasteLength) {
                            var isPlan = pasteQuantity[index][2];
                            if (isPlan == "无计划") {
                                deletetr(val);
                                lineNum++;
                            } else {
                                var pasteLine = pasteQuantity[index][0].replace(/[^\d]/g, '');
                                if (pasteLine == lineNum || pasteLine == "") {
                                    val.children[0].firstChild.value = lineNum;
                                } else {
                                    val.children[0].firstChild.value = pasteLine;
                                    lineNum++;
                                }
                                val.children[1].firstChild.value = isPlan;
                                val.children[2].firstChild.value = pasteQuantity[index][3];
                                val.children[3].firstChild.value = pasteQuantity[index][5];
                                val.children[4].firstChild.value = pasteQuantity[index][8];
                            };
                        };
                    });
                };
                app.pasteExcel = "";
            },
            allDate: function (val) {
                $(".everyDate").each(function () {
                    $(this).val(val);
                });
            }
        }
    });
</script>
            
            <hr class="hidden-xs">
            <footer class="hidden-xs">
                <p align="center">© 2018 - 健和光电MES</p>
            </footer>
        </div>

    
<!-- Visual Studio Browser Link -->
<script type="application/json" id="__browserLink_initializationData">
    {"appName":"Firefox","requestId":"9a4bf53a0f3843d7820ede5face6af07"}
</script>
<script type="text/javascript" src="SMT_%E5%88%9B%E5%BB%BA%E8%AE%A2%E5%8D%95%E8%AE%A1%E5%88%92_files/browserLink" async="async"></script>
<!-- End Browser Link -->



<div id="translate-man-app" class="content-3WfBL_0" style="background-color: rgb(255, 255, 255); display: none;"><div data-v-2868eb04="" class="outputBox-qe9A4_0"><div data-v-2868eb04="" class="outputBox-3oESn_0"><span data-v-2868eb04="" class="outputBox-13Ovx_0"></span><!----></div><div data-v-2868eb04="" class="outputBox-1GLb__0"><!----><div data-v-2868eb04="" class="outputBox-onVZH_0"><img src="SMT_%E5%88%9B%E5%BB%BA%E8%AE%A2%E5%8D%95%E8%AE%A1%E5%88%92_files/sound.svg" class="icon-tprjJ_0"></div></div><div data-v-2868eb04="" class="outputBox-2sJgr_0"></div><div data-v-2868eb04="" class="outputBox-17RAm_0" style="display: none;"><!----><!----><!----><div data-v-2868eb04=""></div></div></div></div></body></html>