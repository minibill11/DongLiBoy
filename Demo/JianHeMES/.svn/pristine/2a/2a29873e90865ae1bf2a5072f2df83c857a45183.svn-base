@model IEnumerable<JianHeMES.Models.Personnel_daily>
@{
    ViewBag.Title = "人事日报查询";
}
<h3>@ViewBag.Title</h3>
<style>
    .table > tbody > tr > td, .table > thead > tr > th, .table > tfoot > tr > th {
        text-align: center;
        vertical-align: middle;
        font-size: 13px;
        padding: 5px;
    }

    .table-bordered > thead > tr > th {
        border-bottom-width: 1px;
    }
</style>
@Html.ActionLink("提交日报信息", "Create")
@using (Html.BeginForm("Index", "Personnel", FormMethod.Post, new { id = "searchForm", @class = "text-center" }))
{
    @Html.AntiForgeryToken()
        <p>
            <span>部门：@Html.DropDownList("department", (List<SelectListItem>)ViewBag.Department, "全部")  </span>
            <span class="hidden-xs">负责人：@Html.DropDownList("principal", (List<SelectListItem>)ViewBag.Principal, "全部")  </span>
            @*<span>
                查询范围：
                <select name="section">
                    <option value="day">日</option>
                    <option value="week">周</option>
                    <option value="month">月</option>
                    <option value="year">年</option>
                </select>
            </span>*@
            <span>日期：<input type="date" name="date" v-module="SearchDate"/></span>
            <input type="hidden" id="PageIndex" name="PageIndex" value="0" />
            <input type="submit" id="searchButton" value="查找" />
        </p>
    <br />
}
    <table id="tableApp" class="table table-bordered">
        <colgroup>
            <col width="100 ">
            <col width="60 ">
            <col width="50 ">
            <col width="50 ">
            <col width="50 ">
            <col width="50 ">
            <col width="90 ">
            <col width="90 ">
            <col width="50 ">
            <col width="50 ">
            <col width="50 ">
            <col width="50 ">
            <col width="50 ">
            <col width="50 ">
            <col width="50 ">
            <col width="50 ">
            <col width="50 ">
            <col width="50 ">
            <col width="50 ">
            <col width="50 ">
            <col width="50 ">
            <col width="50 ">
            <col width="50 ">
            <col width="60 ">
            <col width="50 ">
        </colgroup>
        <thead>
        <thead>
            <tr>
                <th colspan="19" style="border-right:none"><h3 style="margin:0">人事日报</h3></th>
                <th colspan="6" style="border-left:none">
                    @using (Html.BeginForm("Index", "Personnel", FormMethod.Post, new { id = "searchForm", @class = "text-center" }))
                    {
                        @Html.AntiForgeryToken()
                        <span>更新日期：<input type="date" name="date" v-model="SearchDate" /></span>
                        <input v-bind:disabled="lookup" type="submit" id="searchButton" value="查找" />
                    }
                </th>
            </tr>
            <tr>
                <th rowspan="3">部门</th>
                <th rowspan="3">负责人</th>
                <th rowspan="3">编制</th>
                <th rowspan="3">刚需人数</th>
                <th rowspan="3">正式人数</th>
                <th rowspan="3">劳务工人数</th>
                <th rowspan="3">当日入职<br />正式工人数</th>
                <th rowspan="3">当日入职<br />临时工人数</th>
                <th rowspan="3">汇总人数</th>
                <th rowspan="3">当前缺口人数</th>
                <th rowspan="3">预填表人数</th>
                <th colspan="10">实际每日入职人数</th>
                <th rowspan="3">本周入职人数合计</th>
                <th rowspan="3">当月待离职人数</th>
                <th rowspan="3">日期</th>
                <th rowspan="3">编辑</th>
            </tr>
            <tr>
                <th colspan="2">12月3日</th>
                <th colspan="2">12月4日</th>
                <th colspan="2">12月5日</th>
                <th colspan="2">12月6日</th>
                <th colspan="2">12月7日</th>
            </tr>
            <tr>
                <th>劳务</th>
                <th>正式</th>
                <th>劳务</th>
                <th>正式</th>
                <th>劳务</th>
                <th>正式</th>
                <th>劳务</th>
                <th>正式</th>
                <th>劳务</th>
                <th>正式</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>@Html.DisplayFor(modelItem => item.Department)</td>
                    <td>@Html.DisplayFor(modelItem => item.Principal)</td>
                    <td>@Html.DisplayFor(modelItem => item.Aurhorized_personnel)</td>
                    <td>@Html.DisplayFor(modelItem => item.Need_personnel)</td>
                    <td>@Html.DisplayFor(modelItem => item.Employees_personnel)</td>
                    <td>@Html.DisplayFor(modelItem => item.Workers_personnel)</td>
                    <td>@Html.DisplayFor(modelItem => item.Today_on_board_employees)</td>
                    <td>@Html.DisplayFor(modelItem => item.Today_on_board_workers)</td>
                    <td></td>
                    <td></td>
                    <td>@Html.DisplayFor(modelItem => item.Interview)</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td>@Html.DisplayFor(modelItem => item.Resigned_that_month)</td>
                    <td>@Html.DisplayFor(modelItem => item.Date)</td>
                    <td>
                        @Html.ActionLink("修改", "Edit", new { id = item.Id }) @*|
        @Html.ActionLink("详细", "Details", new { id = item.Id }) |
        @Html.ActionLink("删除", "Delete", new { id = item.Id })*@
                    </td>
                </tr>
            }
        </tbody>
        <tfoot>
            <tr>
                <th colspan="2">合计</th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
            </tr>
        </tfoot>
    </table>
@ViewBag.Onboard

<script>
    var tableApp = new Vue({
        el: "#tableApp",
        data: {
        },
        created:{
        },
        method: {

        },
        computed: {
            SearchDate: function () {
                var viewbag = '@ViewBag.date'.split(' ')[0].split("/");
                viewbag[1] = viewbag[1] < 10 ? "0" + viewbag[1] : viewbag[1];
                viewbag[2] = viewbag[2] < 10 ? "0" + viewbag[2] : viewbag[2];
                return viewbag[0]+"-"+viewbag[1]+"-"+viewbag[2];
            }
        }
    })
    $(function () {

    })
</script>



