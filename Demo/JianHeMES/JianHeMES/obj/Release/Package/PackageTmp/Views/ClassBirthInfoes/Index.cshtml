@model IEnumerable<JianHeMES.Models.ClassBirthInfo>

@{
    Layout = null;
}

<script src="~/Scripts/highcharts.js"></script>
<script src="~/Scripts/highcharts-3d.js"></script>
<script src="~/Scripts/modules/exporting.js"></script>

@*引入EasyUI框架*@
<script type="text/javascript" src="~/Scripts/jquery-1.11.3.js"></script>
<script type="text/javascript" src="~/Scripts/jquery.easyui.min.js"></script>
<link rel="stylesheet" type="text/css" href="~/Content/easyui.css">
<link rel="stylesheet" type="text/css" href="~/Content/icon.css">
<script src="~/Scripts/locale/easyui-lang-zh_CN.js"></script>
<meta http-equiv="content-type" content="text/html;charset=UTF-8" />

@*引入Vue.js框架*@
<script src="~/Scripts/vue.js"></script>

@*引入Bootstrap框架*@
<link href="~/Content/bootstrap.min.css" rel="stylesheet" />
<script type="text/javascript" src="~/Scripts/bootstrap-paginator.js"></script>

<style>
    .num {
        width:210px;
        padding:15px;
        margin: 20px;
        font-size:16px;
        border:1px dashed green;
    }
</style>
<br />
<h3 class="text-center">户 籍 信 息 统 计</h3>
<hr />

<br />

@using (Html.BeginForm("Index", "ClassBirthInfoes", FormMethod.Post, new { id = "searchForm", @class = "text-center" }))
{
    //@Html.AntiForgeryToken()
    //<form asp-controller="ClassBirthInfoes" asp-action="Index" method="post" class="text-center">
<div class="text-center">
    <p class="text-success text-center btn btn-default">
        @Html.ActionLink("新建一个", "Create")
    </p>
        &nbsp; &nbsp; &nbsp;
        班级: @Html.DropDownList("ClassName", ViewBag.ClassNameList as IEnumerable<SelectListItem>)
        <input type="hidden" id="PageIndex" name="PageIndex" value="0" />
        &nbsp; &nbsp; &nbsp;
        <input class="btn btn-default" type="submit" id="searchButton" value="检索" />
</div>
    //</form>
    <br />
}

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.ClassName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.StudentName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Number)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.City)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Type)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Nation)
        </th>
        @*<th>
                @Html.DisplayNameFor(model => model.Date)
            </th>*@
        <th></th>
    </tr>
    @if (Model != null)
    {
        foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.ClassName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.StudentName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Number)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.City)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Type)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Nation)
                </td>
                @*<td>
                        @Html.DisplayFor(modelItem => item.Date)
                    </td>*@
                <td>
                    @Html.ActionLink("编辑", "Edit", new { id = item.ID }) |
                    @Html.ActionLink("详情", "Details", new { id = item.ID }) @*|*@
                    @*@Html.ActionLink("Delete", "Delete", new { id = item.ID })*@
                </td>
            </tr>
        }
    }
</table>
<div class="form-group num">
    编号对应：<br />
    1.惠阳区户籍<br />
    2.惠州市内惠阳区外户籍<br />
    3.广东省内惠州市外<br />
    4.广东省外<br />
    5.香港<br />
    6.澳门<br />
    7.台湾<br />
    8.无户籍<br />
</div>


@*-----------------------分页功能----------------------------------------------------------------------------------------*@
<div class="text-center">
    <div id="pagebar">
        @for (var i = 0; i < ViewBag.PageCount; i++)
        {
            if (i == ViewBag.PageIndex)
            {
                <span class="currentpagenumber">@(i + 1)</span>
            }
            else
            {
                <a class="pagenumber" href="javascript:;">@(i + 1)</a>
            }
        }
    </div>
</div>
@section scripts {
    <script>
        function submitForm(pagenumber) {
            pagenumber = parseInt(pagenumber, 10);
            $('#PageIndex').val(pagenumber - 1);
            $('#searchForm').submit();
        }
        $(function () {
            $('#searchButton').click(function () {
                submitForm($('#pagebar .currentpagenumber').text());
            });
            $('#pagebar .pagenumber').click(function () {
                submitForm($(this).text());
            });
        });
    </script>
}
