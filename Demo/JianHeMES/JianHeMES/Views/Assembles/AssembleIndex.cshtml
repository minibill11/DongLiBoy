@model IEnumerable<JianHeMES.Models.Assemble>

@{
    ViewBag.Title = "组装信息查询";
}
@Scripts.Render("~/Scripts/highcharts")
<link href="~/Scripts/Bootstraps/bootstrap-select.css" rel="stylesheet" />
<script src="~/Scripts/Bootstraps/bootstrap-select.js"></script>

<style type="text/css">
    /*手型指针*/
    .progress {
        cursor: pointer;
        margin-bottom:0px;
    }

    td, th {
        width: 12%;
    }

    #Legend {
        font-size: 10px;
    }

        #Legend div {
            margin-bottom: 5px;
            height: 15px;
        }

    .modal-body > .container {
        width: auto;
        padding: 0;
    }

    .notdo {
        width: 200px;
        height: 100px;
        overflow: auto;
        padding: 0px 15px;
        border: none;
    }

    .selectpicker {
        border: 1px solid #ccc;
    }

    .dropdown-menu > li > a {
        padding: 3px 10px;
    }

    .bootstrap-select:not([class*="col-"]):not([class*="form-control"]):not(.input-group-btn) {
        width: 150px;
    }

    @@media screen and (max-width: 768px) {
        .bootstrap-select:not([class*="col-"]):not([class*="form-control"]):not(.input-group-btn) {
            width: 135px;
        }

        .selectpicker {
            font-size: 13px;
        }
    }
    /*Cage*/
    .fqc-first {
        height: 65px;
    }

    .fqc-content-topbutton {
        width: 130px;
        height: 34px;
        margin: 15px 120px;
        border: none;
        border-radius: 5px;
        box-shadow: 0 2px 3px #888888;
        background-color: #e0e0e0;
        transition: all linear .2s;
    }

        .fqc-content-topbutton:hover {
            background-color: burlywood;
        }

    .fqc-index-content {
        height: 35px;
        margin-top: 8px;
        margin-bottom: 0px;
    }

    .fqc-index-content-inner {
        text-align: left;
        float: left;
        height: 35px;
        width: 250px;
       
    }
    .fqc-index-content-inner:nth-child(1){
        width:230px;
        margin-left:95px;
    }
    .fqc-index-content-inner:nth-child(2){
        width:240px;
    }
    .fqc-index-content-inner:nth-child(3){
        width:180px;
        margin-left:25px;
    }
    .btn-group > .btn:first-child {
        border: 1px solid rgba(178, 167, 167, 0.5);
    }

    .fqc-index-content-inner:nth-child(3) > input {
        width: 150px;
    }

    .fqc-index-content-inner:nth-child(4) > input {
        width: 150px;
        height: 34px;
        display: inline-block;
    }

    .fqc-index-content-inner:nth-child(4) > button {
        float: right;
        margin-right: 15px;
        height: 34px;
        border: none;
        background-color: #e0e0e0;
        border-radius: 5px;
        transition: all linear .1s;
    }

        .fqc-index-content-inner:nth-child(4) > button:hover {
            background-color: burlywood;
            color: #fff;
            box-shadow: 0 2px 3px #888888;
        }
    /*中间隐藏部分样式*/
    .fqc-medle-content-left {
        width: 730px;
        height: 100%;
        margin-left: 23px;
        display: inline-block;
    }

    .fqc-medle-content-left-top {
        height: 68px;
        border-bottom: 1px solid #808080;
    }

    .fqc-medle-content-left-bottom {
        height: 60%;
        width: 155px;
        float: left;
    }

        .fqc-medle-content-left-bottom:nth-child(3) {
            margin-left: 55px;
        }

        .fqc-medle-content-left-bottom:nth-child(4) {
            margin-left: 55px;
        }

    .fqc-medle-content-left-top-inner {
        height: 20px;
        width: 155px;
        float: left;
        margin-left: 0px;
    }

        .fqc-medle-content-left-top-inner:nth-child(8) {
            margin-left: 5px;
        }

    .fqc-medle-content-left-top > span {
        display: block;
        height: 30px;
        font-size: 16px;
    }

    .fqc-medle-content-left-bottom > span {
        height: 13%;
        display: block;
    }

    .fqc-medle-content-left-bottom-inner {
        height: 120px;
        width: 170px;
        text-align: center;
        overflow-y: auto;
    }

        .fqc-medle-content-left-bottom-inner > p {
            font-size: 10px;
            height: 13px;
            width: 150px;
            margin: 1px;
            display: inline-block;
            padding-bottom: 2px;
            border-radius: 8px;
            background-color: none;
            transition: all linear 0.1s;
        }

            .fqc-medle-content-left-bottom-inner > p:hover {
                font-size: 16px;
                height: 20px;
                background-color: burlywood;
            }

    .fqc-medle-content-left-top-inner:nth-child(8) {
        width: 260px;
    }

    .fqc-medle-content-left-top-inner:nth-child(3) {
        width: 200px;
    }

    .fqc-medle-content-left-top-inner:nth-child(7) {
        width: 195px;
    }
    /*RIGHT*/
    .fqc-medle-content-right {
        height: 220px;
        width: 320px;
        float: right;
    }

    .highcharts-title > tspan {
        font-size: 16px;
    }

    tspan {
        font-size: 11px;
    }
    /*输出的表头部分*/
    .fqc-for-tableheader {
        height: 35px;
        margin-top: 5px;
        float: left;
        width: 500px;
    }

    .fqc-for-tableheader-inner {
        font-size: 18px;
    }

    strong {
        color: black;
    }

    .fqc-hidden-content {
        border-bottom: 1px solid #808080;
    }
    /*输出表格样式--无效样式？*/
    .table > tbody > tr > th {
        font-size:12px;
    }
    .table > tbody > tr {
        height:30px;
    }
    tablescroll{
        height:300px;
        overflow-y:hidden;
    }
    /*媒体查询--此为主要媒体查询样式编写区域：bootstrap移动端优先，所以必须移动端为常规样式。pc端为媒体查询样式*/
    @@media (min-width:450px) and (max-width:1500px) {
        strong {
            color: black;
        }

        .fqc-medle-content-left-top-inner {
            margin-left: 0px;
        }

        .fqc-hidden-content {
            height: 350px;
            border-bottom: 1px solid #808080;
        }
    }
    /*媒体查询--此为补充项*/
    @@media (max-width:450px) {
        .fqc-index-content-inner {
            margin-top: 5px;
        }

        .fqc-medle-content-right {
            display: none;
        }

        .fqc-medle-content-left-bottom {
            margin-left: 0px;
        }

        .fqc-for-tableheader-inner {
            font-size: 16px;
        }
    }
    .fqc-index-content-inner > button {
        box-shadow: 0 2px 3px #888888;
        margin-left: 5px;
    }
    .highcharts-background {
        width: 400px;
        height: 300px;
    }
    .fortableposition {
        float: right;
    }
</style>

<h2 class="text-center" style="margin-top:10px;">@ViewBag.Title</h2>

<div class="text-center">
    <p class="text-success text-center btn btn-default hidden-xs">
        @Html.ActionLink("组装工位", "AssembleStationB")
    </p>
    <p class="text-success text-center btn btn-default hidden-xs">
        @Html.ActionLink("防水测试工位", "WaterproofTestB")
    </p>
    <p class="text-success text-center btn btn-default hidden-xs">
        @Html.ActionLink("电源、转接卡工位", "AssembleAdapterCardB")
    </p>
    <p class="text-success text-center btn btn-default hidden-xs">
        @Html.ActionLink("视检工位", "ViewCheckB")
    </p>
    <p class="text-success text-center btn btn-default hidden-xs">
        @Html.ActionLink("电检工位", "ElectricityCheckB")
    </p>
    <p class="text-success text-center btn btn-default">
        @Html.ActionLink("PQC工位", "PQCCheckB")
    </p>
</div>
@using (Html.BeginForm("AssembleIndex", "Assembles", FormMethod.Post, new { id = "searchForm", @class = "text-center" }))
{
    @Html.AntiForgeryToken()
    <div class="container fqc-index-content">
        <form asp-controller="CalibrationRecords" asp-action="Index" method="post">
            <div class="fqc-index-content-inner">
                <span>订单号：</span>@Html.DropDownList("orderNum", (List<SelectListItem>)ViewBag.OrderList, "全部", new { @class = "selectpicker", data_live_search = "true", data_style = "form-control" })
            </div>
            <div class="fqc-index-content-inner">
                <span>模组条码号：</span><input type="text" class="form-control" style="display:inline;width:150px;" name="BoxBarCode" />
            </div>
            <div class="fqc-index-content-inner">
                <span>
                    PQC工位：
                    @Html.DropDownList("PQCNormal", (List<SelectListItem>)ViewBag.PQCNormal, "全部", new { @class = "form-control", style = "display:inline; width: 80px" })
                </span>
            </div>
            <div class="fqc-index-content-inner">
                <span>备注:</span>
                <input type="text" class="form-control" style="display:inline;width:150px;" name="Remark" />
                <input type="hidden" id="PageIndex" name="PageIndex" value="0" />
                <button id="searchcButton">查找</button>
                <input type="submit" id="searchButton" class="btn btn-default hidden" value="查找" />
            </div>
        </form>
    </div>
}
<div id="query" class="container fqc-hidden-content" style="@ViewBag.Display">
    <div class="fqc-medle-content-left">
        <div id="theTop" class="fqc-medle-content-left-top">
            <span style="height:25px;">订单 <strong class="testcolor">@ViewBag.orderNum</strong>外观包装基本情况</span>
            <div class="fqc-medle-content-left-top-inner">
                <p>订单的模组总量：<strong>@ViewBag.Quantity</strong></p>
            </div>
            <div class="fqc-medle-content-left-top-inner">
                <p>经过外观包装数量：<strong>@ViewBag.RecordCount</strong></p>
            </div>
            <div class="fqc-medle-content-left-top-inner">
                <p>正常数量：<strong>@ViewBag.NormalCount</strong></p>
            </div>
            <div class="fqc-medle-content-left-top-inner">
                <p>异常数量：<strong>@ViewBag.AbnormalCount</strong></p>
            </div>
            <div class="fqc-medle-content-left-top-inner">
                <p>完成率：<strong><span>{{FinishRate}}</span>%</strong> </p>
            </div>
            <div class="fqc-medle-content-left-top-inner">
                <p>外观包装用时: <strong>@ViewBag.TotalTime</strong></p>
            </div>
            <div class="fqc-medle-content-left-top-inner">
                <p>查询时间： <strong><span>{{message}}</span> </strong></p>
            </div>
        </div>
        @if (ViewBag.NotDo != null)
        {

            <div class="fqc-medle-content-left-bottom">
                <span class="testspan">未进行PQC模组 <strong>@ViewBag.NotDoCount</strong> 个：</span>
                <div class="fqc-medle-content-left-bottom-inner">
                    @foreach (var item in ViewBag.NotDo)
                    {
                        <p>@item</p>
                    }
                </div>
            </div>
        }
        @if (ViewBag.DoingNowList != null)
        {

            <div class="fqc-medle-content-left-bottom">
                <span class="testspan">正在PQC模组<strong>@ViewBag.DoingNowListCount</strong> 个：</span>
                <div class="fqc-medle-content-left-bottom-inner">
                    @foreach (var item in ViewBag.DoingNowList)
                    {
                        <p>@item</p>
                    }
                </div>
            </div>
        }
        @if (ViewBag.NeverFinishList != null)
        {

            <div class="fqc-medle-content-left-bottom">
                <span class="testspan">未完成PQC模组<strong>@ViewBag.NeverFinishListCount</strong> 个：</span>
                <div class="fqc-medle-content-left-bottom-inner">
                    @foreach (var item in ViewBag.NeverFinishList)
                    {
                        <p>@item</p>
                    }
                </div>
            </div>
        }
    </div>
    <div id="container2" class="fqc-medle-content-right"></div>
</div>

<script type="text/javascript">
    var query = new Vue({
        el: '#query',    //与div中的id名对应
        data: {
            message: new Date().toLocaleString(),  //输出查询时间
            floatmessage: '订单号'+'@ViewBag.orderNum',
            Quantity:@ViewBag.Quantity,
            NormalCount:@ViewBag.NormalCount,
        },
        computed:{
            FinishRate: function (){
                return (this.NormalCount/this.Quantity*100).toFixed(1)
            }
        }
    });

    Highcharts.chart('container2', {
        chart: {
            type: 'pie',
            options3d: {
                enabled: true,
                alpha: 30,
                beta: 0
            }
        },
        title: {
            text: '订单 @ViewBag.orderNum 基本情况'
        },
        tooltip: {
            pointFormat: '<b>{point.percentage:.1f}%</b>'//'{series.name}: <b>{point.percentage:.1f}%</b>'
        },
        plotOptions: {
            pie: {
                allowPointSelect: true,
                cursor: 'pointer',
                depth: 35,
                dataLabels: {
                    enabled: true,
                    formatter:function(){           // '{point.name}'
                        if(this.percentage >0 )
                        { return this.point.name;}
                        else if (this.percentage >=100 )
                        { return '已全部完成';}
                    }
                }
            }
        },
        series: [{
            type: 'pie',
            name: '',
            data: [
                ['已完成 @ViewBag.NormalCount 个',@ViewBag.NormalCount],
                ['未完成 @ViewBag.NeverFinish 个',@ViewBag.NeverFinish]
            ]
        }]
    });
</script>
<div class="container fqc-for-tableheader" style="@ViewBag.Display">
    <p class="fqc-for-tableheader-inner">订单 @ViewBag.orderNum 详细外观包装记录：</p>
</div>
<div id="Legend" class="col-md-2 fortableposition" style="@ViewBag.Legend">
    <table>
        <tr>
            <th>工位正常完成</th>
            <th>
                <div class="progress" style="width: 100%; color:white"><div class="progress-bar progress-bar-success" style="width: 100%; color:white"></div></div>
            </th>
        </tr>
        <tr>
            <th>工位存在异常情况</th>
            <th>
                <div class="progress" style="width: 100%; color:white"><div class="progress-bar progress-bar-warning" style="width: 100%; color:white"></div></div>
            </th>
        </tr>
    </table>
</div>
<div>
    <table class="table-title" style="width:100%;height:30px;">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.OrderNum)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.BoxBarCode)
            </th>
            <th>组装工位</th>
            <th>防水测试工位</th>
            <th>电源、转接卡工位</th>
            <th>视检工位</th>
            <th>电检工位</th>
            <th>PQC工位</th>
            <th>编辑</th>
        </tr>
    </table>
</div>
<div style="overflow:auto;height:345px;width:100%;">
    <table class="table">
        

        @if (Model != null)
    {
        foreach (var item in Model)
        {
            //获取开始时间
            @Html.TextBoxFor(modelItem => item.AssembleBT, new { @id = item.Id + "-AssembleB", @class = "form-control", @style = "display:none", @readonly = "readonly" })
                @Html.TextBoxFor(modelItem => item.WaterproofTestBT, new { @id = item.Id + "-WaterproofTestB", @class = "form-control", @style = "display:none", @readonly = "readonly" })
                @Html.TextBoxFor(modelItem => item.AssembleAdapterCardBT, new { @id = item.Id + "-AssembleAdapterCardB", @class = "form-control", @style = "display:none", @readonly = "readonly" })
                @Html.TextBoxFor(modelItem => item.ViewCheckBT, new { @id = item.Id + "-ViewCheckB", @class = "form-control", @style = "display:none", @readonly = "readonly" })
                @Html.TextBoxFor(modelItem => item.ElectricityCheckBT, new { @id = item.Id + "-ElectricityCheckB", @class = "form-control", @style = "display:none", @readonly = "readonly" })
                @Html.TextBoxFor(modelItem => item.PQCCheckBT, new { @id = item.Id + "-PQCCheckB", @class = "form-control", @style = "display:none", @readonly = "readonly" })
            //获取完成状态
            @Html.TextBoxFor(modelItem => item.AssembleFinish, new { @id = item.Id + "-Assemble", @class = "form-control", @style = "display:none", @readonly = "readonly" })
                @Html.TextBoxFor(modelItem => item.WaterproofTestFinish, new { @id = item.Id + "-WaterproofTest", @class = "form-control", @style = "display:none", @readonly = "readonly" })
                @Html.TextBoxFor(modelItem => item.AssembleAdapterFinish, new { @id = item.Id + "-AssembleAdapterCard", @class = "form-control", @style = "display:none", @readonly = "readonly" })
                @Html.TextBoxFor(modelItem => item.ViewCheckFinish, new { @id = item.Id + "-ViewCheck", @class = "form-control", @style = "display:none", @readonly = "readonly" })
                @Html.TextBoxFor(modelItem => item.ElectricityCheckFinish, new { @id = item.Id + "-ElectricityCheck", @class = "form-control", @style = "display:none", @readonly = "readonly" })
                @Html.TextBoxFor(modelItem => item.PQCCheckFinish, new { @id = item.Id + "-PQCCheck", @class = "form-control", @style = "display:none", @readonly = "readonly" })
            //获取异常代码
            @Html.TextBoxFor(modelItem => item.WaterproofAbnormal, new { @id = item.Id + "-WaterproofTestA", @class = "form-control", @style = "display:none", @readonly = "readonly" })
                @Html.TextBoxFor(modelItem => item.ViewCheckAbnormal, new { @id = item.Id + "-ViewCheckA", @class = "form-control", @style = "display:none", @readonly = "readonly" })
                @Html.TextBoxFor(modelItem => item.ElectricityCheckAbnormal, new { @id = item.Id + "-ElectricityCheckA", @class = "form-control", @style = "display:none", @readonly = "readonly" })
                @Html.TextBoxFor(modelItem => item.PQCCheckAbnormal, new { @id = item.Id + "-PQCCheckA", @class = "form-control", @style = "display:none", @readonly = "readonly" })
                <tr id="@item.Id">
                    <td>
                        @Html.DisplayFor(modelItem => item.OrderNum)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.BoxBarCode)
                        @*@Html.EditorFor(modelItem => item.BoxBarCode)*@
                    </td>
                    @*<td>
                            @Html.DisplayFor(modelItem => item.ModelCollections)
                        </td>*@
                    @*<td>
                            <div class="progress" data-toggle="modal" data-target="#@item.BoxBarCode-modallist" title="点击查看模块条码清单">
                                 @Html.EditorFor(modelItem => item.ModelList, new { htmlAttributes = new { @id = item.BoxBarCode + "-list", @class = "form-control", @style = "display:none", @readonly = "readonly" } })
                                <div id="@item.BoxBarCode-listpro" class="" role="progressbar"
                                     style="width: 100%;">
                                </div>
                                <script>
                                    var list = $("#@item.BoxBarCode-list").val();
                                    console.log(list);
                                    if(list != ""){
                                        $("#@item.BoxBarCode-listpro").attr("class","progress-bar progress-bar-info")
                                    }else{
                                        $("#@item.BoxBarCode-listpro").attr("class","")
                                    }
                                </script>
                            </div>
                        </td>*@
                    <td>
                        <div class="progress" data-toggle="modal" data-target="#@item.Id-modalAssemble" title="点击查看组装情况">
                            <div id="@item.Id-Assemblepro" class="" role="progressbar"
                                 style="width: 100%;">
                            </div>
                            <script>
                            var AssembleB = $("#@item.Id-AssembleB").val();
                            var Assemblepro = $("#@item.Id-Assemble").val();
                            if(AssembleB != ""){
                                if(Assemblepro == "True"){
                                    $("#@item.Id-Assemblepro").attr("class","progress-bar progress-bar-success")
                                }@*else if(Assemblepro == "False"){
                            $("#@item.Id-Assemblepro").attr({class:"progress-bar progress-bar-success progress-bar-striped active",style:"width:30%"})
                        }else if(异常){
                            $("#@item.Id-Assemblepro").attr("class","progress-bar progress-bar-warning")
                        }*@
                            }else{
                                $("#@item.Id-Assemblepro").attr("class","")
                            }
                            </script>
                        </div>
                    </td>
                    <td>
                        <div class="progress" data-toggle="modal" data-target="#@item.Id-modalWaterproofTest" title="点击查看防水情况">
                            <div id="@item.Id-WaterproofTestpro" class="" role="progressbar"
                                 style="width: 100%;">
                            </div>
                            <script>
                            var WaterproofTestA= $("#@item.Id-WaterproofTestA").val();
                            var WaterproofTestB= $("#@item.Id-WaterproofTestB").val();
                            var WaterproofTestpro= $("#@item.Id-WaterproofTest").val();
                            if(WaterproofTestB != ""){
                                if(WaterproofTestpro == "True"){
                                    if(WaterproofTestA == 1){
                                        $("#@item.Id-WaterproofTestpro").attr("class","progress-bar progress-bar-success")
                                    }else{
                                        $("#@item.Id-WaterproofTestpro").attr("class","progress-bar progress-bar-warning")
                                    }
                                }@*else{
                            $("#@item.Id-WaterproofTestpro").attr({class:"progress-bar progress-bar-success progress-bar-striped active",style:"width:30%"})
                        }*@
                            }else{
                                $("#@item.Id-WaterproofTestpro").attr("class","")
                            }
                            </script>
                        </div>
                    </td>
                    <td>
                        <div class="progress" data-toggle="modal" data-target="#@item.Id-modalAssembleAdapterCard" title="点击查看安装情况">
                            <div id="@item.Id-AssembleAdapterCardpro" class="" role="progressbar"
                                 style="width: 100%;">
                            </div>
                            <script>
                            var AssembleAdapterCardB= $("#@item.Id-AssembleAdapterCardB").val();
                            var AssembleAdapterCardpro= $("#@item.Id-AssembleAdapterCard").val();
                            if(AssembleAdapterCardB != ""){
                                if(AssembleAdapterCardpro == "True"){
                                    $("#@item.Id-AssembleAdapterCardpro").attr("class","progress-bar progress-bar-success")
                                }@*else if(AssembleAdapterCardpro == "False"){
                            $("#@item.Id-AssembleAdapterCardpro").attr({class:"progress-bar progress-bar-success progress-bar-striped active",style:"width:30%"})
                        }else if(异常){
                            $("#@item.Id-Assemblepro").attr("class","progress-bar progress-bar-warning")
                        }*@
                            }else{
                                $("#@item.Id-AssembleAdapterCardpro").attr("class","")
                            }
                            </script>
                        </div>
                    </td>
                    <td>
                        <div class="progress" data-toggle="modal" data-target="#@item.Id-modalViewCheck" title="点击查看视检情况">
                            <div id="@item.Id-ViewCheckpro" class="" role="progressbar"
                                 style="width: 100%;">
                            </div>
                            <script>
                            var ViewCheckA=$("#@item.Id-ViewCheckA").val();
                            var ViewCheckB= $("#@item.Id-ViewCheckB").val();
                            var ViewCheckpro= $("#@item.Id-ViewCheck").val();
                            if(ViewCheckB != ""){
                                if(ViewCheckpro == "True"){
                                    if(ViewCheckA == 1){
                                        $("#@item.Id-ViewCheckpro").attr("class","progress-bar progress-bar-success")
                                    }else{
                                        $("#@item.Id-ViewCheckpro").attr("class","progress-bar progress-bar-warning")
                                    }
                                }@*else{
                            $("#@item.Id-ViewCheckpro").attr({class:"progress-bar progress-bar-success progress-bar-striped active",style:"width:30%"})
                        }*@
                            }else{
                                $("#@item.Id-ViewCheckpro").attr("class","")
                            }
                            </script>
                        </div>
                    </td>
                    <td>
                        <div class="progress" data-toggle="modal" data-target="#@item.Id-modalElectricityCheck" title="点击查看电检情况">
                            <div id="@item.Id-ElectricityCheckpro" class="" role="progressbar"
                                 style="width: 100%;">
                            </div>
                            <script>
                            var ElectricityCheckA= $("#@item.Id-ElectricityCheckA").val();
                            var ElectricityCheckB= $("#@item.Id-ElectricityCheckB").val();
                            var ElectricityCheckpro= $("#@item.Id-ElectricityCheck").val();
                            if(ElectricityCheckB != ""){
                                if(ElectricityCheckpro == "True"){
                                    if(ElectricityCheckA == 1){
                                        $("#@item.Id-ElectricityCheckpro").attr("class","progress-bar progress-bar-success")
                                    }else{
                                        $("#@item.Id-ElectricityCheckpro").attr("class","progress-bar progress-bar-warning")
                                    }
                                }@*else{
                            $("#@item.Id-ElectricityCheckpro").attr({class:"progress-bar progress-bar-success progress-bar-striped active",style:"width:30%"})
                        }*@
                            }else{
                                $("#@item.Id-ElectricityCheckpro").attr("class","")
                            }
                            </script>
                        </div>
                    </td>
                    <td>
                        <div class="progress" data-toggle="modal" data-target="#@item.Id-modalPQCCheck" title="点击查看PQC情况">
                            <div id="@item.Id-PQCCheckpro" class="" role="progressbar"
                                 style="width: 100%;">
                            </div>
                            <script>
                            var PQCCheckA= $("#@item.Id-PQCCheckA").val();
                            var PQCCheckB= $("#@item.Id-PQCCheckB").val();
                            var PQCCheckpro= $("#@item.Id-PQCCheck").val();
                            if(PQCCheckB != "" && PQCCheckA != ""){
                                if(PQCCheckpro == "True"){
                                    $("#@item.Id-PQCCheckpro").attr("class","progress-bar progress-bar-success")
                                }else{
                                    $("#@item.Id-PQCCheckpro").attr("class","progress-bar progress-bar-warning")
                                }
                                @*else{
                            $("#@item.Id-PQCCheckpro").attr({class:"progress-bar progress-bar-success progress-bar-striped active",style:"width:30%"})
                        }*@
                            }else{
                                $("#@item.Id-PQCCheckpro").attr("class","")
                            }
                            </script>
                        </div>
                    </td>

                    <td>
                        @*@Html.ActionLink("修改", "Edit", new { id = item.Id }) |*@
                        @Html.ActionLink("详细", "Details", new { id = item.Id }) @*|
                            @Html.ActionLink("删除", "Delete", new { id = item.Id })*@
                    </td>
                </tr>

            <!-- 模态框（Modal）组装 -->
                <div class="modal fade" id="@item.Id-modalAssemble" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                    &times;
                                </button>
                                <h4 class="modal-title">条码号:@item.BoxBarCode</h4>
                            </div>
                            <div class="modal-body">
                                <div class="container">
                                    <div class="row">
                                        <div class="col-md-2">
                                            开始时间
                                        </div>
                                        <div class="col-md-2">
                                            模块组装负责人
                                        </div>
                                        <div class="col-md-2">
                                            模块条码清单
                                        </div>
                                        <div class="col-md-2">
                                            完成时间
                                        </div>
                                        <div class="col-md-2">
                                            组装时长
                                        </div>
                                        <div class="col-md-1">
                                            备注
                                        </div>
                                        <div class="col-md-1">
                                            是否已经完成组装
                                        </div>
                                    </div>
                                    <hr />
                                    <div class="row">
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.AssembleBT)
                                        </div>
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.AssemblePrincipal)
                                        </div>
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.ModelList, new { htmlAttributes = new { @id = item.Id + "-list", @class = "form-control", @readonly = "readonly" } })
                                        </div>
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.AssembleFT)
                                        </div>
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.AssembleTime)
                                        </div>
                                        <div class="col-md-1">
                                            @Html.DisplayFor(modelItem => item.Remark)
                                        </div>
                                        <div class="col-md-1">
                                            @Html.DisplayFor(modelItem => item.AssembleFinish)
                                        </div>
                                    </div>
                                    <hr />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            <!-- 模态框（Modal）防水 -->
                <div class="modal fade" id="@item.Id-modalWaterproofTest" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                    &times;
                                </button>
                                <h4 class="modal-title">条码号:@item.BoxBarCode</h4>
                            </div>
                            <div class="modal-body">
                                <div class="container">
                                    <div class="row">
                                        <div class="col-md-2">
                                            开始时间
                                        </div>
                                        <div class="col-md-1">
                                            防水测试负责人
                                        </div>
                                        <div class="col-md-2">
                                            完成时间
                                        </div>
                                        <div class="col-md-2">
                                            防水测试时长
                                        </div>
                                        <div class="col-md-1">
                                            异常代码
                                        </div>
                                        <div class="col-md-2">
                                            防水维修情况
                                        </div>
                                        <div class="col-md-1">
                                            备注
                                        </div>
                                        <div class="col-md-1">
                                            防水是否完成组装
                                        </div>
                                    </div>
                                    <hr />
                                    <div class="row">
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.WaterproofTestBT)
                                        </div>
                                        <div class="col-md-1">
                                            @Html.DisplayFor(modelItem => item.WaterproofTestPrincipal)
                                        </div>
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.WaterproofTestFT)
                                        </div>
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.WaterproofTestTimeSpan)
                                        </div>
                                        <div class="col-md-1">
                                            @Html.DisplayFor(modelItem => item.WaterproofAbnormal)
                                        </div>
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.WaterproofMaintaince)
                                        </div>
                                        <div class="col-md-1">
                                            @Html.DisplayFor(modelItem => item.Remark)
                                        </div>
                                        <div class="col-md-1">
                                            @Html.DisplayFor(modelItem => item.WaterproofTestFinish)
                                        </div>
                                    </div>
                                    <hr />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            <!-- 模态框（Modal）转接卡 -->
                <div class="modal fade" id="@item.Id-modalAssembleAdapterCard" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                    &times;
                                </button>
                                <h4 class="modal-title">条码号:@item.BoxBarCode</h4>
                            </div>
                            <div class="modal-body">
                                <div class="container">
                                    <div class="row">
                                        <div class="col-md-2">
                                            开始时间
                                        </div>
                                        <div class="col-md-2">
                                            安装转接卡负责人
                                        </div>
                                        <div class="col-md-2">
                                            完成时间
                                        </div>
                                        <div class="col-md-2">
                                            转接卡、电源清单
                                        </div>
                                        <div class="col-md-2">
                                            安装时长
                                        </div>
                                        <div class="col-md-1">
                                            备注
                                        </div>
                                        <div class="col-md-1">
                                            转接卡是否安装完成
                                        </div>
                                    </div>
                                    <hr />
                                    <div class="row">
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.AssembleAdapterCardBT)
                                        </div>
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.AssembleAdapterCardPrincipal)
                                        </div>
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.AssembleAdapterCardFT)
                                        </div>
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.AdapterCard_Power_List)
                                        </div>
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.AssembleAdapterTime)
                                        </div>
                                        <div class="col-md-1">
                                            @Html.DisplayFor(modelItem => item.Remark)
                                        </div>
                                        <div class="col-md-1">
                                            @Html.DisplayFor(modelItem => item.AssembleAdapterFinish)
                                        </div>
                                    </div>
                                    <hr />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            <!-- 模态框（Modal）视检 -->
                <div class="modal fade" id="@item.Id-modalViewCheck" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                    &times;
                                </button>
                                <h4 class="modal-title">条码号:@item.BoxBarCode</h4>
                            </div>
                            <div class="modal-body">
                                <div class="container">
                                    <div class="row">
                                        <div class="col-md-2">
                                            开始时间
                                        </div>
                                        <div class="col-md-2">
                                            视检负责人
                                        </div>
                                        <div class="col-md-2">
                                            完成时间
                                        </div>
                                        <div class="col-md-2">
                                            视检时长
                                        </div>
                                        <div class="col-md-2">
                                            视检异常
                                        </div>
                                        <div class="col-md-1">
                                            备注
                                        </div>
                                        <div class="col-md-1">
                                            视检是否完成
                                        </div>
                                    </div>
                                    <hr />
                                    <div class="row">
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.ViewCheckBT)
                                        </div>
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.AssembleViewCheckPrincipal)
                                        </div>
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.ViewCheckFT)
                                        </div>
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.ViewCheckTime)
                                        </div>
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.ViewCheckAbnormal)
                                        </div>
                                        <div class="col-md-1">
                                            @Html.DisplayFor(modelItem => item.Remark)
                                        </div>
                                        <div class="col-md-1">
                                            @Html.DisplayFor(modelItem => item.ViewCheckFinish)
                                        </div>
                                    </div>
                                    <hr />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            <!-- 模态框（Modal）电检 -->
                <div class="modal fade" id="@item.Id-modalElectricityCheck" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                    &times;
                                </button>
                                <h4 class="modal-title">条码号:@item.BoxBarCode</h4>
                            </div>
                            <div class="modal-body">
                                <div class="container">
                                    <div class="row">
                                        <div class="col-md-2">
                                            开始时间
                                        </div>
                                        <div class="col-md-2">
                                            电检负责人
                                        </div>
                                        <div class="col-md-2">
                                            完成时间
                                        </div>
                                        <div class="col-md-2">
                                            电检时长
                                        </div>
                                        <div class="col-md-2">
                                            电检异常
                                        </div>
                                        <div class="col-md-1">
                                            备注
                                        </div>
                                        <div class="col-md-1">
                                            电检是否完成
                                        </div>
                                    </div>
                                    <hr />
                                    <div class="row">
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.ElectricityCheckBT)
                                        </div>
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.AssembleElectricityCheckPrincipal)
                                        </div>
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.ElectricityCheckFT)
                                        </div>
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.ElectricityCheckTime)
                                        </div>
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.ElectricityCheckAbnormal)
                                        </div>
                                        <div class="col-md-1">
                                            @Html.DisplayFor(modelItem => item.Remark)
                                        </div>
                                        <div class="col-md-1">
                                            @Html.DisplayFor(modelItem => item.ElectricityCheckFinish)
                                        </div>
                                    </div>
                                    <hr />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            <!-- 模态框（Modal）PQC -->
                <div class="modal fade" id="@item.Id-modalPQCCheck" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                    &times;
                                </button>
                                <h4 class="modal-title">条码号:@item.BoxBarCode</h4>
                            </div>
                            <div class="modal-body">
                                <div class="container">
                                    <div class="row">
                                        <div class="col-md-2">
                                            开始时间
                                        </div>
                                        <div class="col-md-1">
                                            PQC负责人
                                        </div>
                                        <div class="col-md-1">
                                            产线
                                        </div>
                                        <div class="col-md-2">
                                            完成时间
                                        </div>
                                        <div class="col-md-2">
                                            PQC时长
                                        </div>
                                        <div class="col-md-2">
                                            PQC异常
                                        </div>
                                        <div class="col-md-1">
                                            备注
                                        </div>
                                        <div class="col-md-1">
                                            PQC是否完成
                                        </div>
                                    </div>
                                    <hr />
                                    <div class="row">
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.PQCCheckBT)
                                        </div>
                                        <div class="col-md-1">
                                            @Html.DisplayFor(modelItem => item.AssemblePQCPrincipal)
                                        </div>
                                        <div class="col-md-1">
                                            @Html.DisplayFor(modelItem => item.AssembleLineId)
                                        </div>
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.PQCCheckFT)
                                        </div>
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.PQCCheckTime)
                                        </div>
                                        <div class="col-md-2">
                                            @Html.DisplayFor(modelItem => item.PQCCheckAbnormal)
                                        </div>
                                        <div class="col-md-1">
                                            @Html.DisplayFor(modelItem => item.Remark)
                                        </div>
                                        <div class="col-md-1">
                                            @Html.DisplayFor(modelItem => item.PQCCheckFinish)
                                        </div>
                                    </div>
                                    <hr />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
        }
    }
    </table>
</div>
@*-----------------------分页功能----------------------------------------------------------------------------------------*@
<div class="text-center">
    <div id="pagebar">
        @for (var i = 0; i < ViewBag.PageCount; i++)
        {
            if (i == ViewBag.PageIndex)
            {
                <span style="font-size:25px" class="currentpagenumber">  @(i + 1)  </span>
            }
            else
            {
                <a class="pagenumber" style="font-size:20px" href="javascript:;">  @(i + 1)  </a>
            }
        }
    </div>
</div>
@section scripts {
    <script>
        var queryColumn = new Vue({
            el: '#queryColumn',
            data: {
            },
            watch: {
            }
        });
    </script>
    <script>

        function submitForm(pagenumber) {
            pagenumber = parseInt(pagenumber, 10);
            $('#PageIndex').val(pagenumber - 1);
            $('#searchForm').submit();
        }
        $(function () {
            $('.selectpicker').selectpicker();
            $('#searchButton').click(function () {
                submitForm($('#pagebar .currentpagenumber').text());
            });

            $('#pagebar .pagenumber').click(function () {
                submitForm($(this).text());
            });
            $("#searchcButton").click(function(event){
                if($("#orderNum").val()!=""){
                    $("#searchButton").click();
                }
            })
        });
    </script>
}