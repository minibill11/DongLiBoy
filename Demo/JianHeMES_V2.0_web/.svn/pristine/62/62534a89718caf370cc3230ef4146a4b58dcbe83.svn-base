<template>
  <div>
    <Header :active="active" :header_list="header_list" />
    <div class="aa">
      <div class="select-style">
        <el-date-picker v-model="inputDate" type="year" placeholder="选择年" size="small" style="width:180px">
        </el-date-picker>
        <el-button type="primary" size="small" v-on:click="getDate" class="qty_btn">查询</el-button>
      </div>
      <el-table v-bind:data="tableData" style="width:80%" max-height="623" border
        :header-cell-style="{'text-align':'center'}" :cell-style="{'text-align':'center'}">
        <el-table-column prop="Time" label="月份" width="200">
        </el-table-column>
        <el-table-column prop="" label="财务核对人" width="280">
          <template slot-scope="scope"> {{scope.row.Finance_Proofreader}} <span
              class="el-span">{{scope.row.Finance_Proofread_Date}}</span>
          </template>
</el-table-column>
<el-table-column prop="" label="PMC核对人" width="280">
    <template slot-scope="scope"> {{scope.row.Finance_Finance_Proofreader}}<span
              class="el-span">{{scope.row.PMC_Proofread_Date}}</span>
          </template>
</el-table-column>
<el-table-column prop="" label="财务审核" width="280">
    <template slot-scope="scope"> {{scope.row.Finance_Assessor}}<span
              class="el-span">{{scope.row.Finance_Assessed_Date}}</span>
          </template>
</el-table-column>
<el-table-column prop="" label="操作">
    <template slot-scope="scope">
            <u style="color:#409eff" v-on:click="goDisplay(scope.row)">详细</u>
          </template>
</el-table-column>
</el-table>
</div>
</div>
</template>
<script>
    import Header from './Header'
    import {
        getRecord
    } from "@/api/test";
    import '@/assets/style/table.less';
    export default {
        name: "stock-index",
        data() {
            return {
                tableData: [],
                inputDate: "",
                active: '库存金额信息',
                header_list: ['库存金额信息', '月度库存金额', '查询ERP库存月度结存金额'],
            };
        },
        mounted: function() {
            window.open("http://172.16.6.145/Warehouse_Material/StockAmount_Index");
        },
        methods: {
            getDate() {
                getRecord(this.inputDate).then(res => {
                    this.tableData = res.data
                })
            },
            goDisplay(row) {
                this.$router.push({
                    name: 'stock_query',
                    query: {
                        time: row.Time
                    }
                })
            }
        },
        components: {
            Header,
        }
    };
</script>
<style lang="less">
    .select-style {
        display: inline-block;
        margin: 10px 0 10px 0;
    }
    
    .qty_btn {
        margin: 5px;
    }
    
    .el-span {
        margin-left: 15px
    }
    
    .aa {
        text-align: center;
    }
</style>