<!--- 甘特图看板 --->
<template>
  <div>
    <div>{{time|formatMonth}}</div>
    <div>{{prace|formatMoney}}</div>
    <el-row>
      <el-button>默认按钮</el-button>
      <el-button type="primary" size="medium">主要按钮</el-button>
      <el-button type="success" size="small">成功按钮</el-button>
      <el-button type="info" disabled>信息按钮</el-button>
      <el-button type="warning" size="mini">警告按钮</el-button>
      <el-button type="danger">危险按钮</el-button>
    </el-row>
    <el-progress :percentage="50"></el-progress>
    <el-progress :percentage="100" :format="format"></el-progress>
    <el-progress :percentage="100" status="success"></el-progress>
    <el-progress :percentage="100" status="warning"></el-progress>
    <el-progress :percentage="50" status="exception"></el-progress>
    <div class="block">
      <span class="demonstration">默认</span>
      <el-date-picker v-model="value1" type="date" placeholder="选择日期"></el-date-picker>
    </div>
    <el-checkbox-group v-model="checkList">
      <el-checkbox label="复选框 A"></el-checkbox>
      <el-checkbox label="复选框 B"></el-checkbox>
      <el-checkbox label="复选框 C"></el-checkbox>
      <el-checkbox label="禁用" disabled></el-checkbox>
      <el-checkbox label="选中且禁用" disabled></el-checkbox>
    </el-checkbox-group>
    <el-table :data="tableData" height="300" border stripe style="width: 100%">
      <el-table-column prop="date" label="日期" width="180"></el-table-column>
      <el-table-column prop="name" label="姓名" width="180"></el-table-column>
      <el-table-column prop="address" label="地址"></el-table-column>
    </el-table>
    <div>
    </div>
    <!-- <div class="mainContainer">
      <div class="container">
        <Gantt :tasks="tasks"></Gantt>
      </div>
    </div>-->
  </div>
</template>

<script>
import { getList } from "@/api/test";
import Gantt from "./gantt/gantt";
export default {
  name: "gantt_board",
  data() {
    return {
      drag: {
        trigger: ".div1",
        body: ".div2"
      },
      prace: 15862354695852,
      time: new Date(),
      tableData: [],
      checkList: ["选中且禁用", "复选框 A"],
      value1: "",
      tasks: {
        data: [
          {
            id: 1,
            start_date: "2020-04-01 00:00:00", //实际开始时间
            duration: "5", //周期
            text: "Project #1", //工段名
            progress: "0.8", //进度百分比
            parent: 0, //链接树父节点
            deadline: "2020-04-09 00:00:00", //实际结束时间
            planned_start: "2020-04-01 00:00:00", //计划开始时间
            planned_end: "2020-04-07 00:00:00", //计划结束时间
            open: true, //树形文件是否展开
          },
          {
            id: 2,
            start_date: "2020-04-06 00:00:00",
            duration: "4",
            text: "Task #1",
            progress: "0.5",
            parent: 1,
            deadline: "2020-04-11 00:00:00",
            planned_start: "2020-04-06 00:00:00",
            planned_end: "2020-04-10 00:00:00",
            open: true,
          },
          {
            id: 3,
            start_date: "2020-04-03 00:00:00",
            duration: "6",
            text: "Task #2",
            progress: "0.7",
            parent: 1,
            deadline: "2020-04-10 00:00:00",
            planned_start: "2020-04-05 00:00:00",
            planned_end: "2020-04-14 00:00:00",
            open: true,
          },
          {
            id: 4,
            start_date: "2020-04-07 00:00:00",
            duration: "2",
            text: "Task #3",
            progress: "0",
            parent: 1,
            deadline: "2020-04-17 00:00:00",
            planned_start: "2020-04-03 00:00:00",
            planned_end: "2020-04-05 00:00:00",
            open: true,
          },
        ],
      },
    };
  },
  components: { Gantt },
  created() {
    // getList()
    //   .then(res => {
    //     console.log(res);
    //     if (res.status == 200) {
    //       this.tasks.data = res.data;
    //          console.log('tasks',this.tasks);
    //     }
    //   })
    //   .catch(error => {
    //     // 处理 getJSON 和 前一个回调函数运行时发生的错误
    //     console.log("发生错误！", error);
    //   });
    let arr = [];
    for (let i = 0; i < 10; i++) {
      let obj = {
        date: "2020-09-28",
        name: "ddd",
        address: "dizhi" + i,
      };
      arr.push(obj);
    }
    this.tableData = arr;
  },
  mounted() {
    console.log(this.$route.query);
  },
  methods: {
    onAddTask() {
      this.modal = true;
    },
    onSaveTask() {
      this.task.push(this.formItem);
      // console.log(this.task)
    },
    // selectchangevt() {},
    // selectclearvt() {}
    format(percentage) {
      return percentage === 100 ? "满" : `${percentage}%`;
    },
  },
};
</script>
<style lang="less">
.mainContainer {
  margin: 0;
  padding: 0;
  width: 100%;
  height: ~"calc(100vh - 170px)";
  overflow: hidden;
}
.container {
  width: 100%;
  height: 100%;
}
.div1 {
  background: red;
  width:100%;
  height:400px;
}
.div2 {
  background: yellow;
  width: 50px;
  height: 50px;
}
</style>