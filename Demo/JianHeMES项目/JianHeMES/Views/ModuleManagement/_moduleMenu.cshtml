@*
    模块菜单
*@
<script type="text/template" id="moduleMenuComponent">
    <el-row class="moduleMenu">
        <h3 style="margin:0">{{title}}</h3>
        <el-menu v-show="screenSize>=768"
                 :default-active="name"
                 @@select="handleSelect"
                 mode="horizontal">
            <el-menu-item v-show="limit[name]" index="Index">首页</el-menu-item>
            <el-menu-item v-show="limit[name]" index="AfterWeldingCreate">后焊产线</el-menu-item>
            <el-menu-item v-show="limit[name]" index="AfterWeldingSampling">后焊抽检</el-menu-item>
            <el-menu-item v-show="limit[name]" index="Rule">装箱规则</el-menu-item>
            <el-menu-item v-show="limit[name]" index="Inside">内箱装箱</el-menu-item>
            <el-menu-item v-show="limit[name]" index="Outside">外箱装箱</el-menu-item>
        </el-menu>
        <el-dropdown v-show="screenSize<768" placement="bottom" @@command="handleSelect" style="margin-top:5px;">
            <el-button size="small">
                更多菜单<i class="el-icon-arrow-down el-icon--right"></i>
            </el-button>
            <el-dropdown-menu slot="dropdown">
                <el-dropdown-item v-show="limit[name]" command="Index">首页</el-dropdown-item>
                <el-dropdown-item v-show="limit[name]" command="AfterWeldingCreate">后焊产线</el-dropdown-item>
                <el-dropdown-item v-show="limit[name]" command="AfterWeldingSampling">后焊抽检</el-dropdown-item>
                <el-dropdown-item v-show="limit[name]" command="Rule">装箱规则</el-dropdown-item>
                <el-dropdown-item v-show="limit[name]" command="Inside">内箱装箱</el-dropdown-item>
                <el-dropdown-item v-show="limit[name]" command="Outside">外箱装箱</el-dropdown-item>
            </el-dropdown-menu>
        </el-dropdown>
    </el-row>
</script>
<script>
    Vue.component('module-menu-component', {
        props: ['name', 'limit', 'title'],
        template: document.getElementById("moduleMenuComponent"),
        data: function () {
            return {
                screenSize: document.body.clientWidth,//屏幕宽度
            }
        },
        methods: {
            handleSelect(key, keyPath) {
                location.href = `/ModuleManageMent/${key}`;
            }
        }
    });
</script>

