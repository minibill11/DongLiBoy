@*图表*@
<script type="text/template" id="ziChartComponent">
    <div id="main" style="width:100%;min-height:300px;"></div>
</script>
<script>
    var zchart = Vue.extend({
        props: ['section', 'content'],
        template: document.getElementById("ziChartComponent"),
        //data() {
        //    return {
        //        dom: null,
        //        option: [],
        //        new: 'hhhh'
        //    };
        //},
        //watch: {
        //},
        methods: {
            //resize() {
            //    this.dom.resize();
            //}
        },
        mounted() {
            //console.log(section, 111);
            //console.log(content, 222);
            var myChart = echarts.init(document.getElementById('main'));
            option = {
                title: {
                    text: "模块名",
                    textStyle: {
                        color: "#8a8a8a"
                    }
                },
                toolbox: {
                    show: true,
                    feature: {
                        restore: { show: true },
                        saveAsImage: {}
                    }
                },
                tooltip: {
                    trigger: "axis",
                    axisPointer: {
                        type: "cross",
                        label: {
                            backgroundColor: "#6a7985"
                        }
                    }
                },
                legend: {
                    left: "45%",
                    right: "10%",
                    data: ["直通率", "异常"]
                },
                grid: {
                    top: "15%",
                    left: "2%",
                    right: "2%",
                    bottom: "2%",
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月']
                },
                yAxis: {
                    type: "value"
                },
                color: ["#9B92F4", "#69CCF8", "#FE9990", "#B0D7C5", "#9CBAA6", "#CCD3D9"],
                series: [
                    {
                        name: '直通率',
                        type: 'bar',
                        data: [2.0, 4.9, 7.0, 23.2, 25.6, 76.7, 135.6, 162.2, 32.6, 20.0, 6.4, 3.3],
                        markPoint: {
                            data: [
                                { type: 'max', name: '最大值' },
                                { type: 'min', name: '最小值' }
                            ]
                        },
                        markLine: {
                            data: [
                                { type: 'average', name: '平均值' }
                            ]
                        }
                    },
                    {
                        name: '异常',
                        type: 'bar',
                        data: [2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3],
                        markPoint: {
                            data: [
                                { name: '年最高', value: 182.2, xAxis: 7, yAxis: 183 },
                                { name: '年最低', value: 2.3, xAxis: 11, yAxis: 3 }
                            ]
                        },
                        markLine: {
                            data: [
                                { type: 'average', name: '平均值' }
                            ]
                        }
                    }
                ]
            };
            myChart.setOption(option, true);
            //this.$nextTick(() => {
            //    this.dom = echarts.init(this.$refs.dom);
            //    this.dom.setOption(option);
            //    on(window, "resize", this.resize);
            //});
        },
        //beforeDestroy() {
        //    off(window, "resize", this.resize);
        //}
    });
    Vue.component('zichart-component', zchart);
</script>
