
@{
    ViewBag.Title = "HistoryBoard";
}
<link href="~/Scripts/Bootstraps/Element-ui.css" rel="stylesheet" />
<script src="~/Scripts/Bootstraps/Element-ui.js"></script>
<script src="~/Scripts/axios.min.js"></script>
<h2 style="text-align:center;">包装历史信息</h2>
<style>
    table{
        margin-top:15px;
    }
    table .cell{
        text-align:center;
         padding:2px !important;
    }
    table td{
        padding: 2px 0 !important;
    }
</style>
<div id="app">
    <el-button v-on:click="goBack" type="primary" size="mini"><i class="el-icon-d-arrow-left"></i>返回</el-button>
    <el-table v-bind:data="tableData"
              size="small"
              height="550"
              v-bind::default-sort = "{prop: 'OrderNum', order: 'descending'}"
              v-loading="loading"
              style="width: 100%;text-align:center;">
        <el-table-column type="index"
                         label="序号"
                         aglin="center"
                         width="45">
        </el-table-column>
        <el-table-column prop="OrderNum"
                         label="订单"
                         aglin="center"
                         sortable
                         width="95">
            @*<template slot-scope="scope">
                <a v-bind:href="'/Packagings/ViewDisplay/'+ scope.row.OrderNum">{{scope.row.OrderNum}}</a>
            </template>*@
        </el-table-column>
        <el-table-column prop="Worth"
                         width="100"
                         sortable
                         aglin="center"
                         label="总产值（万）">
        </el-table-column>
        <el-table-column prop="moduleCount"
                         width="85"
                         sortable
                         label="模组数量">
        </el-table-column>
        <el-table-column prop="packingCount"
                         width="95"
                         sortable
                         aglin="center"
                         label="已包装数量">
        </el-table-column>
        <el-table-column prop="warehousJoinCount"
                         width="95"
                         sortable
                         label="已入库数量">
        </el-table-column>
        <el-table-column prop="warehousOutCount"
                         width="95"
                         sortable
                         aglin="center"
                         label="已出库数量">
        </el-table-column>
        <el-table-column prop="warehouseJoinValue"
                         width="140"
                         sortable
                         aglin="center"
                         label="目前入库产值（万）">
        </el-table-column>
        <el-table-column prop="uncompleteValue"
                         width="135"
                         sortable
                         label="未完成产值（万）">
        </el-table-column>
        <el-table-column prop="warehousJoinComplete"
                         width="95"
                         sortable
                         aglin="center"
                         label="入库完成率">
        </el-table-column>
        <el-table-column prop="warehousOutComplete"
                         width="95"
                         sortable
                         aglin="center"
                         label="出库完成率">
        </el-table-column>
        <el-table-column prop="remark"
                         width="62"
                         aglin="center"
                         label="备注">
        </el-table-column>
       @* <el-table-column prop=""
                   width="103"
                   label="操作">
    <template slot-scope="scope">
          <el-button v-bind:type="scope.row.Worth=='- -'?'danger':'primary'" v-show="showinnerbtn" class="btnone" size="mini" v-on:click="handleEdit(scope.$index, scope.row)" v-text="scope.row.Worth=='- -'?'输入总产值':'编辑总产值'"></el-button>
          <el-button class="btntwo" size="mini" style="display:none;" v-on:click="handleSave(scope.$index, scope.row)">保存</el-button>
          <el-button type="warning" class="btnthree" size="mini" v-bind:class=`cancle${scope.$index}` style="display:none;" v-on:click="handleCancel(scope.$index, scope.row)">取消</el-button>
          @*<el-button v-show="showinnerbtn" class="btnfour" size="mini" type="danger" v-on:click="handleDelete(scope.$index, scope.row)">删除</el-button>
      </template>
        </el-table-column>*@
    </el-table>
</div>


<script>
    var vm = new Vue({
        el: "#app",
        data: {
            tableData: [],
            loading:false
        },
        mounted() {
            this.loading = true
            axios.post("/Packagings/HistoryProduction_value").then(res=> {
                console.log(res.data)
                for (let i in res.data) {
                    this.tableData.push(res.data[i])
                }
                this.loading = false
            }).catch(err=> {
            })
        },
        methods: {
            goBack() {
                history.back();
            },
            indexMethod(index) {
                var nums = Number(index) - 10
                return nums;
            }
        }
    })

</script>
