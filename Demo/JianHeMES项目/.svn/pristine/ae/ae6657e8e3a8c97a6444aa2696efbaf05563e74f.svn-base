@{
    ViewBag.Title = "指标日报表";
}
@* css放置处 *@
@section cssStyle {
    <link rel="stylesheet/less" type="text/css" href="~/Content/KPI/KPI_TeamEvaluation.less" />
    <style>
        .table-mid > .el-table:first-child {
            margin-bottom: 20px;
        }

        #app .el-table th {
            padding: 0;
        }

        .el-table td .cell {
            padding: 0px;
        }

        #app .table-top input {
            width: 180px;
        }
    </style>
}

<el-container id="app" v-cloak>
    <el-header>
        <h1 class="title">{{show}}日报表</h1>
    </el-header>
    <el-main v-loading="loading">
        <kpi-efficiency-daily-component v-show="show=='效率指标'"
                                        v-model="show"
                                        :showlylimit="showlylimit"
                                        :queryobj="queryobj"
                                        :departmentlist="Department.list"
                                        :grouplist="Group.list"
                                        :executelist="ExecuteTime.list">
        </kpi-efficiency-daily-component>
        <kpi-quality-daily-component v-show="show=='品质指标'"
                                     v-model="show"
                                     :showlylimit="showlylimit"
                                     :queryobj="queryobj"
                                     :departmentlist="Department.list"
                                     :grouplist="Group.list"
                                     :executelist="ExecuteTime.list"></kpi-quality-daily-component>
    </el-main>
</el-container>
@* 分部页放置处 *@
@section renderPage {
    @RenderPage("~/Views/Warehouse_Material/_wareEdit.cshtml")
    @RenderPage("_KPI_Efficiency_Daily.cshtml")
    @RenderPage("_KPI_Quality_Daily.cshtml")
}
@* js放置处 *@
@section jsScript {
    <script src="~/Scripts/KPI/KPI_TeamEvaluation.js"></script>
    <script>
        const app = {
            mixins: [TeamEvaluation],
            data: function () {
                return {
                    show: '效率指标',
                    showlylimit: true,//查看数据来源统计表
                    queryobj: {
                        check: null,
                    }
                }
            },
            created() {
                //this.showlylimit = this.islimit('查看数据来源统计表');
            },
            mounted() {
                if ('from' in this.urlSearchParam) {
                    this.show = this.urlSearchParam.from;
                    this.queryobj = {
                        check: this.show == '效率指标' ? '效率' : '品质',
                        d: this.urlSearchParam.d,
                        g: this.urlSearchParam.g,
                        m: this.urlSearchParam.m,
                    }
                };
            }
        };
    </script>
}

