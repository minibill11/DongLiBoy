@{
    ViewBag.Title = "扫码点检";
    Layout = "~/Views/Shared/_Layout2.cshtml";
}
@* css放置处 *@
@section cssStyle {
    <style>
        #app {
            padding: 10px 10px 0 10px;
            font-family: '微软雅黑';
        }

        .title {
            font-weight: 400;
            font-size: 18px;
        }

        .form-box {
            width: 100%;
            padding: 10px 20px 0 20px;
            box-sizing: border-box;
        }

        .form_button_box {
            width: 100%;
            padding: 10px 0 0 0;
            align-items: center;
            justify-content: center;
        }

        .el-form-item {
            display: flex;
            margin-bottom: 4px;
        }

        .el-form-item__label {
            padding: 0;
        }

        .success-btn, .success-btn:active .success-btn:focus, .success-btn:hover {
            width: 215px;
            background: #22c49e;
            border-color: #22c49e;
            color: #fff;
        }

        .info-btn.is-disabled, .info-btn:active .info-btn:focus, .info-btn:hover {
            width: 215px;
            background: #ccd3de;
            border-color: #ccd3de;
            color: #fff;
        }
    </style>
}

<div id="app" v-cloak>
    <div class="title">
        扫码点检
    </div>

    @*表单*@
    <div class="form-box">
        <el-form :inline="true" :model="formInfo" label-position="left" label-width="90px">
            <el-form-item label="保养周期：">
                <el-select size="small" v-model="formInfo.Check_Type" style="width:215px;"
                           placeholder="请选择..">
                    <el-option label="日保养" value="日保养"></el-option>
                    <el-option label="周保养" value="周保养"></el-option>
                    <el-option label="月保养" value="月保养"></el-option>
                </el-select>
            </el-form-item>
            <el-form-item label="设备编号：">
                <el-input size="small" v-model="formInfo.Department" placeholder="请选择设备编号" style="width:215px;">
                </el-input>
            </el-form-item>
            <el-form-item label="设备名称：">
                <el-input size="small" v-model="formInfo.Department" placeholder="请选择设备名称" style="width:215px;">
                </el-input>
            </el-form-item>
            <el-form-item label="使用部门：">
                <el-input size="small" v-model="formInfo.Department" placeholder="请选择使用部门" style="width:215px;">
                </el-input>
            </el-form-item>
            <el-form-item label="线别：">
                <el-input size="small" v-model="formInfo.Department" placeholder="请选择线别" style="width:215px;">
                </el-input>
            </el-form-item>
            <el-form-item label="日期：">
                <el-input size="small" v-model="formInfo.Department" placeholder="请选择日期" style="width:215px;">
                </el-input>
            </el-form-item>
            <el-table v-bind:data="tableData"
                      style="width: 100%"
                      border stripe>
                <el-table-column prop="UserDepartment"
                                 label="项目">
                </el-table-column>
                <el-table-column prop="RunnDevice"
                                 label="操作方法">
                </el-table-column>
                <el-table-column prop="RunDepar_Device"
                                 label="保养">
                </el-table-column>
            </el-table>
            <el-form-item label="保养人：">
                <el-button size="small" class="success-btn">确认</el-button>
            </el-form-item>
            <el-form-item label="工程师：">
                <el-button size="small" type="info" disabled style="width:215px;">确认</el-button>
            </el-form-item>
        </el-form>
    </div>

</div>
@* 分部页放置处 *@
@section renderPage {
}
@* js放置处 *@
@section jsScript {
    <script src="https://cdn.jsdelivr.net/npm/xe-utils"></script>
    <script>
        const app = {
            data: function () {
                return {
                    //提交筛选
                    formInfo: {
                        Check_Type: '',  //检查类型
                        Date: '',   //检查日期
                        Department: '',      //部门
                        Position: '',   // 位置
                        District: '',     //区域
                        Check_Person: '',      //检查人
                    }
                }
            },
            created: function () {
            },
            mounted: function () {
             //根据设备编号获取扫码点检信息
                onGetScanCheck(){
                    axios.post("/Equipment/Tally_ScanCode/", {
                        equipmentNumber:'AD040212',
                        time:new Date("2020-08-17"),
                        type:'日保养',
                    }).then(res => {

                    })
                }
            },
            watch: {

            },
            //函数方法
            methods: {
                //格式化数据
                formatTime(time) {
                    //console.log(time)
                    let date = new Date(time);
                    return XEUtils.toDateString(date, 'yyyy-MM-dd')
                }
            }
        };
    </script>
}