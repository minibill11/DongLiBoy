
<el-table :data="filterResult"
          max-height="600"
          size="mini "
          align="center"
          cell-class-name="cellParent"
          stripe
          border>
    <el-table-column type="index" label="序号" width="40">
    </el-table-column>
    <el-table-column prop="Platform"
                     min-width="82"
                     @*fixed*@
                     sortable
                     label="平台">
        <template slot-scope="scope">
            <el-link :href="`/Process_Capacity/Detail?Type=${scope.row.Type}&ProductPCBnumber=${scope.row.ProductPCBnumber}&Platform=${scope.row.Platform}`"
                     target="_blank"
                     style="color:#409EFF"
                     :underline="false">{{scope.row.Platform}}</el-link>
        </template>
    </el-table-column>
    <el-table-column prop="Type"
                     min-width="82"
                     sortable
                     label="型号">
    </el-table-column>
    <el-table-column prop="ProductPCBnumber"
                     min-width="85"
                     sortable
                     label="PCB">
    </el-table-column>
    <el-table-column prop="SMT"
                     width="304"
                     label="SMT">
        <template slot-scope="scope">
            <div class="el-table_topfixed">
                <div class="el-table__header-wrapper">
                    <table class="el-table__header" style="width: 302px;" cellspacing="0" cellpadding="0" border="0">
                        <colgroup>
                            <col width="50">
                            <col width="65">
                            <col width="60">
                            <col width="65">
                            <col width="60">
                        </colgroup>
                        <thead class="has-gutter">
                            <tr class="gongduan">
                                <th colspan="1" rowspan="1" class="is-leaf"><div class="cell">工段</div></th>
                                <th colspan="1" rowspan="1" class="is-leaf"><div class="cell">工序描述</div></th>
                                <th colspan="1" rowspan="1" class="is-leaf"><div class="cell">标配人数</div></th>
                                <th colspan="1" rowspan="1" class="is-leaf"><div class="cell">标准产能<br />(PCS/H)</div></th>
                                <th colspan="1" rowspan="1" class="is-leaf"><div class="cell">平衡系数</div></th>
                            </tr>
                        </thead>
                    </table>
                </div>
                <div class="el-table__body-wrapper is-scrolling-none">
                    <table class="el-table__body" style="width: 302px;" cellspacing="0" cellpadding="0" border="0">
                        <colgroup>
                            <col width="50">
                            <col width="65">
                            <col width="60">
                            <col width="65">
                            <col width="60">
                        </colgroup>
                        <tbody>
                            <tr class="el-table__row" v-for="item in scope.row.SMT">
                                <td rowspan="1" colspan="1"><div class="cell">{{item.name}}</div></td>
                                <td rowspan="1" colspan="4">
                                    <div class="cell">
                                        <el-table :data="item.content"
                                                  size="mini"
                                                  width="250"
                                                  :show-header="false"
                                                  stripe
                                                  border>
                                            <el-table-column prop="seaction"
                                                             width="65"
                                                             label="工段">
                                                <template slot-scope="scope">
                                                    {{scope.row.seaction}}
                                                </template>
                                            </el-table-column>
                                            <el-table-column prop="StandardTotal"
                                                             width="60"
                                                             label="标配人数">
                                            </el-table-column>
                                            <el-table-column prop="StandardOutput"
                                                             width="65"
                                                             label="标准产能(PCS/H)">
                                            </el-table-column>
                                            <el-table-column prop="BalanceRate"
                                                             width="60"
                                                             label="平衡系数">
                                            </el-table-column>
                                        </el-table>
                                    </div>
                                </td>
                            </tr>
                            <tr class="el-table__row">
                                <td rowspan="1" colspan="1"><div class="cell"><b>合计</b></div></td>
                                <td rowspan="1" colspan="4">
                                    <div class="cell">
                                        <div class="el-table el-table--fit el-table--striped el-table--border el-table--enable-row-hover el-table--enable-row-transition el-table--mini">
                                            <div class="hidden-columns"><div></div> <div></div> <div></div> <div></div></div><div class="el-table__body-wrapper is-scrolling-none">
                                                <table class="el-table__body" style="width: 250px;" cellspacing="0" cellpadding="0" border="0">
                                                    <colgroup>
                                                        <col width="65">
                                                        <col width="60">
                                                        <col width="65">
                                                        <col width="60">
                                                    </colgroup>
                                                    <tbody>
                                                        <tr class="el-table__row">
                                                            <td rowspan="1" colspan="1"><div class="cell">/</div></td>
                                                            <td rowspan="1" colspan="1"><div class="cell">{{sectionTotal(scope.row,'SMT','StandardTotal')}}</div></td>
                                                            <td rowspan="1" colspan="1"><div class="cell">{{sectionTotal(scope.row,'SMT','StandardOutput')}}</div></td>
                                                            <td rowspan="1" colspan="1"><div class="cell">{{sectionTotal(scope.row,'SMT','BalanceRate')}}</div></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div><div class="el-table__column-resize-proxy" style="display: none;"></div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </template>
    </el-table-column>
    <el-table-column prop="module"
                     width="304"
                     label="模块">
        <template slot-scope="scope">
            <div @*class="el-table_topfixed"*@>
                <div class="el-table__header-wrapper">
                    <table class="el-table__header" style="width: 302px;" cellspacing="0" cellpadding="0" border="0">
                        <colgroup>
                            <col width="50">
                            <col width="65">
                            <col width="60">
                            <col width="65">
                            <col width="60">
                        </colgroup>
                        <thead class="has-gutter">
                            <tr class="gongduan">
                                <th colspan="1" rowspan="1" class="is-leaf"><div class="cell">工段</div></th>
                                <th colspan="1" rowspan="1" class="is-leaf"><div class="cell">工序描述</div></th>
                                <th colspan="1" rowspan="1" class="is-leaf"><div class="cell">标配人数</div></th>
                                <th colspan="1" rowspan="1" class="is-leaf"><div class="cell">标准产能<br />(PCS/H)</div></th>
                                <th colspan="1" rowspan="1" class="is-leaf"><div class="cell">平衡系数</div></th>
                            </tr>
                        </thead>
                    </table>
                </div>
                <div class="el-table__body-wrapper is-scrolling-none">
                    <table class="el-table__body" style="width: 302px;" cellspacing="0" cellpadding="0" border="0">
                        <colgroup>
                            <col width="50">
                            <col width="65">
                            <col width="60">
                            <col width="65">
                            <col width="60">
                        </colgroup>
                        <tbody>
                            <tr class="el-table__row" v-for="item in scope.row.module">
                                <td rowspan="1" colspan="1"><div class="cell">{{item.name=='装磁吸安装板'?'装磁吸':item.name}}</div></td>
                                <td rowspan="1" colspan="4">
                                    <div class="cell">
                                        <el-table :data="item.content"
                                                  size="mini"
                                                  width="250"
                                                  :show-header="false"
                                                  stripe
                                                  border>
                                            <el-table-column prop="seaction"
                                                             width="65"
                                                             label="工段">
                                                <template slot-scope="scope">
                                                    {{scope.row.seaction}}
                                                </template>
                                            </el-table-column>
                                            <el-table-column prop="StandardTotal"
                                                             width="60"
                                                             label="标配人数">
                                            </el-table-column>
                                            <el-table-column prop="StandardOutput"
                                                             width="65"
                                                             label="标准产能(PCS/H)">
                                            </el-table-column>
                                            <el-table-column prop="BalanceRate"
                                                             width="60"
                                                             label="平衡系数">
                                            </el-table-column>
                                        </el-table>
                                    </div>
                                </td>
                            </tr>
                            <tr class="el-table__row">
                                <td rowspan="1" colspan="1"><div class="cell"><b>合计</b></div></td>
                                <td rowspan="1" colspan="4">
                                    <div class="cell">
                                        <div class="el-table el-table--fit el-table--striped el-table--border el-table--enable-row-hover el-table--enable-row-transition el-table--mini">
                                            <div class="hidden-columns"><div></div> <div></div> <div></div> <div></div></div><div class="el-table__body-wrapper is-scrolling-none">
                                                <table class="el-table__body" style="width: 250px;" cellspacing="0" cellpadding="0" border="0">
                                                    <colgroup>
                                                        <col width="65">
                                                        <col width="60">
                                                        <col width="65">
                                                        <col width="60">
                                                    </colgroup>
                                                    <tbody>
                                                        <tr class="el-table__row">
                                                            <td rowspan="1" colspan="1"><div class="cell">/</div></td>
                                                            <td rowspan="1" colspan="1"><div class="cell">{{sectionTotal(scope.row,'module','StandardTotal')}}</div></td>
                                                            <td rowspan="1" colspan="1"><div class="cell">{{sectionTotal(scope.row,'module','StandardOutput')}}</div></td>
                                                            <td rowspan="1" colspan="1"><div class="cell">{{sectionTotal(scope.row,'module','BalanceRate')}}</div></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div><div class="el-table__column-resize-proxy" style="display: none;"></div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </template>
    </el-table-column>
    <el-table-column prop="packing"
                     width="304"
                     label="模组">
        <template slot-scope="scope">
            <div class="el-table_topfixed">
                <div class="el-table__fixed-header-wrapper">
                    <table class="el-table__header" style="width: 302px;" cellspacing="0" cellpadding="0" border="0">
                        <colgroup>
                            <col width="50">
                            <col width="65">
                            <col width="60">
                            <col width="65">
                            <col width="60">
                        </colgroup>
                        <thead class="has-gutter">
                            <tr class="gongduan">
                                <th colspan="1" rowspan="1" class="is-leaf"><div class="cell">工段</div></th>
                                <th colspan="1" rowspan="1" class="is-leaf"><div class="cell">工序描述</div></th>
                                <th colspan="1" rowspan="1" class="is-leaf"><div class="cell">标配人数</div></th>
                                <th colspan="1" rowspan="1" class="is-leaf"><div class="cell">标准产能<br />(PCS/H)</div></th>
                                <th colspan="1" rowspan="1" class="is-leaf"><div class="cell">平衡系数</div></th>
                            </tr>
                        </thead>
                    </table>
                </div>
                <div class="el-table__fixed-body-wrapper is-scrolling-none">
                    <table class="el-table__body" style="width: 302px;" cellspacing="0" cellpadding="0" border="0">
                        <colgroup>
                            <col width="50">
                            <col width="65">
                            <col width="60">
                            <col width="65">
                            <col width="60">
                        </colgroup>
                        <tbody>
                            <tr class="el-table__row" v-for="item in scope.row.packing">
                                <td rowspan="1" colspan="1"><div class="cell">{{item.name}}</div></td>
                                <td rowspan="1" colspan="4">
                                    <div class="cell">
                                        <el-table :data="item.content"
                                                  size="mini"
                                                  width="250"
                                                  :show-header="false"
                                                  stripe
                                                  border>
                                            <el-table-column prop="seaction"
                                                             width="65"
                                                             label="工段">
                                                <template slot-scope="scope">
                                                    {{scope.row.seaction}}
                                                </template>
                                            </el-table-column>
                                            <el-table-column prop="StandardTotal"
                                                             width="60"
                                                             label="标配人数">
                                            </el-table-column>
                                            <el-table-column prop="StandardOutput"
                                                             width="65"
                                                             label="标准产能(PCS/H)">
                                            </el-table-column>
                                            <el-table-column prop="BalanceRate"
                                                             width="60"
                                                             label="平衡系数">
                                            </el-table-column>
                                        </el-table>
                                    </div>
                                </td>
                            </tr>
                            <tr class="el-table__row">
                                <td rowspan="1" colspan="1"><div class="cell"><b>合计</b></div></td>
                                <td rowspan="1" colspan="4">
                                    <div class="cell">
                                        <div class="el-table el-table--fit el-table--striped el-table--border el-table--enable-row-hover el-table--enable-row-transition el-table--mini">
                                            <div class="hidden-columns"><div></div> <div></div> <div></div> <div></div></div><div class="el-table__body-wrapper is-scrolling-none">
                                                <table class="el-table__body" style="width: 250px;" cellspacing="0" cellpadding="0" border="0">
                                                    <colgroup>
                                                        <col width="65">
                                                        <col width="60">
                                                        <col width="65">
                                                        <col width="60">
                                                    </colgroup>
                                                    <tbody>
                                                        <tr class="el-table__row">
                                                            <td rowspan="1" colspan="1"><div class="cell">/</div></td>
                                                            <td rowspan="1" colspan="1"><div class="cell">{{sectionTotal(scope.row,'packing','StandardTotal')}}</div></td>
                                                            <td rowspan="1" colspan="1"><div class="cell">{{sectionTotal(scope.row,'packing','StandardOutput')}}</div></td>
                                                            <td rowspan="1" colspan="1"><div class="cell">{{sectionTotal(scope.row,'packing','BalanceRate')}}</div></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div><div class="el-table__column-resize-proxy" style="display: none;"></div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </template>
    </el-table-column>
    <el-table-column label="平衡系数图表" width="50">
        <template slot-scope="scope">
            <chart-div :urldata="{Type:scope.row.Type,ProductPCBnumber:scope.row.ProductPCBnumber,Platform:scope.row.Platform}" :ispopover="true" :idname="scope.row.Type+scope.row.ProductPCBnumber+scope.row.Platform"></chart-div>
        </template>
    </el-table-column>
    <el-table-column label="汇总">
        <el-table-column prop="modeleNeedHoure"
                         label="单人生产每模组需求总工时(H)">
            <template slot-scope="scope">
                <div class="total_div">
                    <div>SMT：</div>
                    <div class="total_rightdiv">{{scope.row.SMTmodeleNeedHoure}}</div>
                    <div>模块：</div>
                    <div class="total_rightdiv">{{scope.row.ModulemodeleNeedHoure}}</div>
                    <div>模组：</div>
                    <div class="total_rightdiv">{{scope.row.PackagemodeleNeedHoure}}</div>
                    <div><b>合计：</b></div>
                    <div class="total_rightdiv"><b>{{scope.row.modeleNeedHoure}}</b></div>
                </div>
            </template>
        </el-table-column>
        <el-table-column prop="totalperson"
                         label="总人数(人)">
            <template slot-scope="scope">
                <div class="total_div">
                    <div>SMT：</div>
                    <div class="total_rightdiv">{{scope.row.SMTtotalperson}}</div>
                    <div>模块：</div>
                    <div class="total_rightdiv">{{scope.row.Moduletotalperson}}</div>
                    <div>模组：</div>
                    <div class="total_rightdiv">{{scope.row.Packagetotalperson}}</div>
                    <div><b>合计：</b></div>
                    <div class="total_rightdiv"><b>{{scope.row.totalperson}}</b></div>
                </div>
            </template>
        </el-table-column>
        <el-table-column prop="capacityperhour"
                         label="每小时产能(模组/H)">
            <template slot-scope="scope">
                <div class="total_div">
                    <div>SMT：</div>
                    <div class="total_rightdiv">{{scope.row.SMTcapacityperhour}}</div>
                    <div>模块：</div>
                    <div class="total_rightdiv">{{scope.row.Modulecapacityperhour}}</div>
                    <div>模组：</div>
                    <div class="total_rightdiv">{{scope.row.Packagecapacityperhour}}</div>
                    <div><b>合计：</b></div>
                    <div class="total_rightdiv"><b>{{scope.row.capacityperhour}}</b></div>
                </div>
            </template>
        </el-table-column>
    </el-table-column>
</el-table>
