@model IEnumerable<JianHeMES.Models.Small_Sample>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="~/Content/styleFile/packaging/index.css" rel="stylesheet" />
<script src="~/Content/styleFile/packaging/index.js"></script>
<script src="~/Scripts/axios.min.js"></script>
<style>
    .searchContainer{
        /*display:flex;
        justify-content:space-around;*/
        text-align:center;
    }
    .el-input{
        width:209px !important;
    }
</style>
<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>

<div id="app">
    <div class="searchContainer">
        <el-input placeholder="请输入内容"
                  v-model="customerName"
                  size="small"
                  clearable>
        </el-input>
        <el-select v-model="orderNum" size="small" clearable placeholder="请选择">
            <el-option v-for="item in options"
                       key="item.value"
                       label="item.label"
                       value="item.value">
            </el-option>
        </el-select>
        <el-input placeholder="请输入内容"
                  size="small"
                  v-model="mo1"
                  clearable>
        </el-input>
        <el-input placeholder="请输入内容"
                  size="small"
                  v-model="mo2"
                  clearable>
        </el-input>
        <el-button id="searchinfos" size="small" type="success" v-on:click="searchInfos">查询</el-button>
    </div>
</div>

<script>
    let app = new Vue({
        el: "#app",
        data: {
            customerName: null,
            mo1: null,
            mo2: null,
            orderNum: null,
            options: [
            {
                value: '选项1',
                label: '黄金糕'
            }, {
                value: '选项2',
                label: '双皮奶'
            }, {
                value: '选项3',
                label: '蚵仔煎'
            }, {
                value: '选项4',
                label: '龙须面'
            }, {
                value: '选项5',
                label: '北京烤鸭'
            }]
        }, methods: {
            searchInfos() {
                
                if (this.customerName != null || this.orderNum != null || this.mo1 != null || this.mo2 != null) {
                    axios.post("/Small_Sample/Index", { customer: this.customerName, ordernum: this.orderNum, mo1: this.mo1, mo2: this.mo2 }).then(res=> {
                        console.log(res.data)
                    }).catch(err=> {
                        this.$message({
                            message: "连接失败",
                            type: "warning"
                        })
                    })
                } else {
                    this.$message({
                        message: "请输入需要查询的内容",
                        type: "warning"
                    });
                }
            },
            getOrderList() {
                
                axios.post("/Commonality/GetOrderNumList").then(res=> {
                    //console.log(res.data)
                    
                }).catch(err=> {
                    alert("clicked!")
                    this.$message({
                        message: "连接失败",
                        type: "warning"
                    })
                })
            }
        },
        mounted() {
            this.getOrderList();
        }
    });
    document.onkeydown = function (event) {
        var e = event || window.event;    // 兼容IE
        if (e && e.keyCode == 13) { //回车键的键值为13
            $("#searchinfos").click();
        }
    };
</script>

