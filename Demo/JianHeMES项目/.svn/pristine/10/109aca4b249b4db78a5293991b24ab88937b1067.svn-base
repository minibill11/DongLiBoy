const mixin = {
    data: function () {
        return {
            isAdmin: false,//是否管理员
            loading: false,//loading状态开关
        }
    },
    //页面打开时执行
    created: function () {
        if (!this.userName) {
            location.href = '/Users/Login2?col=Home&act=Index3';
        };
        this.isAdmin = this.userRole == '系统管理员';
    },
    //页面加载完后执行
    mounted: function () {
    },
    //函数方法
    methods: {
        goBack() {
            window.history.back();
        },
    },
};


//axios
// 添加请求拦截器
axios.interceptors.request.use(function (config) {
    app.loading = true;
    return config;
}, function (error) {
    return Promise.reject(error);
});

// 添加响应拦截器
axios.interceptors.response.use(function (response) {
    app.loading = false;
    return response;
}, function (error) {
    app.loading = false;
    return Promise.reject(error);
});

    //执行多个并发请求

    //function getUserAccount() {
    //    return axios.get('/user/12345');
    //}

    //function getUserPermissions() {
    //    return axios.get('/user/12345/permissions');
    //}

    //axios.all([getUserAccount(), getUserPermissions()])
    //    .then(axios.spread(function (acct, perms) {
    //        // 两个请求现在都执行完成
    //    }));

