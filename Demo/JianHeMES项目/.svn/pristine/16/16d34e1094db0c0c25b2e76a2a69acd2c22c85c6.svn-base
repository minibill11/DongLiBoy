@{
    ViewBag.Title = "模板文档";
}
@* css放置处 *@
@section cssStyle {
    <style>
        .list-table {
            margin: 10px auto 0;
            width: 800px;
        }
    </style>
}
<div id="app" v-cloak>
    <el-container>
        <el-header class="text-center">
            <h2>模板文档</h2>
        </el-header>
        <el-main class="main">
            <el-row>
                <el-button @@click="getPDFList()">查</el-button>
                <el-table v-bind:data="tableList"
                          max-height="600"
                          class="list-table">
                    <el-table-column prop="OriginalPath"
                                     width="650"
                                     label="SOP文件">
                    </el-table-column>
                    <el-table-column label="操作">
                        <template slot-scope="scope">
                            <el-button @@click="detials(scope.row)" type="primary" size="mini">详细</el-button>
                        </template>
                    </el-table-column>
                </el-table>
            </el-row>
        </el-main>
    </el-container>
</div>
@* 分部页放置处 *@
@section renderPage {
}
@* js放置处 *@
@section jsScript {
    <script>
        const app = {
            data: function () {
                return {
                    tableList: [],
                }
            },
            mounted() {
                //this.getPDFList();
            },
            methods: {
                // 获取文件列表
                getPDFList() {
                    axios.request({
                        method: 'post',
                        url: `${vm.MESHOST}/api/DocumentTemplateFilesManage_Api/GetDocumentTemplateFilesFolderInDirectory`,
                    }).then(res => {
                        console.log(res.data);
                    });
                    axios.post("/api/DocumentTemplateFilesManage_Api/GetDocumentTemplateFilesFolderInDirectory").then(res => {
                        console.log(res.data);
                        if (res.data.Result) {
                            this.$message.success(res.data.Message);
                        } else {
                            this.$message.error(res.data.Message);
                        }
                    }).catch(err => {
                        console.log('后台报错');
                    });
                    axios.post("/api/DocumentTemplateFilesManage_Api/GetDocumentTemplateFile", { filename: '' }).then(res => {
                        console.log(res.data);
                        if (res.data.Result) {
                            this.$message.success(res.data.Message);
                        } else {
                            this.$message.error(res.data.Message);
                        }
                    }).catch(err => {
                        console.log('后台报错2');
                    });
                },
            },
        };
    </script>
}