@{
    ViewBag.Title = "订单生产信息概况报表";
}
<script src="~/Scripts/vue.js"></script>
<link href="~/Content/styleFile/packaging/index.css" rel="stylesheet" />
<script src="~/Content/styleFile/packaging/index.js"></script>
<link href="~/Content/styleFile/Query/OrderNumReport.css" rel="stylesheet" />
<script src="~/Content/styleFile/Query/OrderNumReport.js"></script>
<style>
    .body-content, .container {
        width: 95vw;
    }
</style>

<div id="app" v-cloak>
    <el-container>
        <el-header class="text-center">
            <div v-show="screenSize>=768">
                <h2 class="text-center">@ViewBag.Title</h2>
            </div>
            <div v-show="screenSize<768">
                <h3>@ViewBag.Title</h3>
            </div>
        </el-header>
        <el-main class="tablemain" v-loading="loading">
            <el-row>
                <span>订单号：</span>
                <el-select v-model="selectVal" placeholder="输入内容可查询" filterable size="medium" style="width:220px;">
                    <el-option v-for="item in selectOptions"
                               :key="item.value"
                               :value="item.value">
                    </el-option>
                </el-select>
                <table v-if="selectVal!=''" border="1" cellspacing="0">
                    <colgroup>
                        <col width="100">
                        <col width="100">
                        <col width="100">
                        <col width="100">
                        <col width="100">
                        <col width="100">
                        <col width="100">
                        <col width="100">
                    </colgroup>
                    <tr>
                        <td>订单号</td>
                        <td>{{tableData.OrderNum}}</td>
                        <td>下单日期</td>
                        <td>{{tableData.ContractDate}}</td>
                        <td>模组数量</td>
                        <td>{{tableData.Boxes}}</td>
                        <td>平台型号</td>
                        <td>{{tableData.PlatformType}}</td>
                    </tr>

                    <tr>
                        <td>计划生产日期</td>
                        <td>{{tableData.PlanInputTime}}</td>
                        <td>计划出货日期</td>
                        <td>{{tableData.PlanCompleteTime}}</td>
                        <td>制程要求</td>
                        <td>{{tableData.ProcessingRequire}}</td>
                        <td>标准要求</td>
                        <td>{{tableData.StandardRequire}}</td>
                    </tr>
                    <tr>
                        <td>实际开始生产时间</td>
                        <td>/</td>
                        <td>最终出货时间</td>
                        <td>{{tableData.ultimatelyTime}}</td>
                        <td>客户名称</td>
                        <td>{{tableData.CustomerName}}</td>
                        <td>地区</td>
                        <td>{{tableData.Area}}</td>
                    </tr>
                    <tr>
                        <td>条码创建人</td>
                        <td>{{tableData.BarCodeCreator}}</td>
                        <td>条码创建时间</td>
                        <td>{{tableData.BarCodeCreateDate}}</td>
                        <td>SMT计划人</td>
                        <td>{{tableData.Smtplan}}</td>
                        <td>SMT计划时间</td>
                        <td>{{tableData.Smtplan}}</td>
                    </tr>
                    <tr>
                        <td>是否为库存订单</td>
                        <td>{{tableData.IsRepertory}}</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>备注信息</td>
                        <td>{{tableData.Remark}}</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>

                    <tr>
                        <th colspan="8">小样报告</th>
                    </tr>
                    <template v-if="tableData.Small!=null">
                        <tr>
                            <td>上传人</td>
                            <td>{{tableData.Small.SmallCreator}}</td>
                            <td>上传时间</td>
                            <td>{{tableData.Small.SmallCreatedDate}}</td>
                            <td>审核人</td>
                            <td>{{tableData.Small.SmallAssessor}}</td>
                            <td>审核时间</td>
                            <td>{{tableData.Small.SmallAssessedDate}}</td>
                        </tr>
                        <tr>
                            <td>核准人</td>
                            <td>{{tableData.Small.SmallApproved}}</td>
                            <td>核准时间</td>
                            <td>{{tableData.Small.SmallApprovedDate}}</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </template>
                    <tr>
                        <th colspan="8">SMT</th>
                    </tr>
                    <tr>
                        <td>IC面计划数量</td>
                        <td>{{tableData.Smt}}</td>
                        <td>完成数量</td>
                        <td>{{tableData.Smt}}</td>
                        <td>完成率</td>
                        <td>{{tableData.Smt}}</td>
                        <td>合格率</td>
                        <td>{{tableData.Smt}}</td>
                    </tr>
                    <tr>
                        <td>灯面计划数量</td>
                        <td>{{tableData.Smt}}</td>
                        <td>完成数量</td>
                        <td>{{tableData.Smt}}</td>
                        <td>完成率</td>
                        <td>{{tableData.Smt}}</td>
                        <td>合格率</td>
                        <td>{{tableData.Smt}}</td>
                    </tr>
                    <tr>
                        <td>异常信息</td>
                        <td>{{tableData.Smt}}</td>
                        <td>模块数</td>
                        <td>{{tableData.Smt}}</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <th colspan="8">组装</th>
                    </tr>
                    <tr>
                        <td>首件信息</td>
                        <td>OK/NG后OK</td>
                        <td>首件操作人</td>
                        <td>{{tableData.Assmeble}}</td>
                        <td>开始时间</td>
                        <td>{{tableData.Assmeble}}</td>
                        <td>完成时间</td>
                        <td>{{tableData.Assmeble}}</td>
                    </tr>
                    <tr>
                        <td>完成率</td>
                        <td>{{tableData.Assmeble}}</td>
                        <td>合格率</td>
                        <td>{{tableData.Assmeble}}</td>
                        <td>直通率</td>
                        <td>{{tableData.Assmeble}}</td>
                        <td>作业时长</td>
                        <td>{{tableData.Assmeble}}</td>
                    </tr>
                    <tr>
                        <td>异常记录清单</td>
                        <td>{{tableData.Assmeble}}</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <th colspan="8">FQC</th>
                    </tr>
                    <tr>
                        <td>开始时间</td>
                        <td>{{tableData.FQC}}</td>
                        <td>完成时间</td>
                        <td>{{tableData.FQC}}</td>
                        <td>完成率</td>
                        <td>{{tableData.FQC}}</td>
                        <td>合格率</td>
                        <td>{{tableData.FQC}}</td>
                    </tr>
                    <tr>
                        <td>直通率</td>
                        <td>{{tableData.FQC}}</td>
                        <td>作业时长</td>
                        <td>{{tableData.FQC}}</td>
                        <td>异常记录清单</td>
                        <td>{{tableData.FQC}}</td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <th colspan="8">老化调试</th>
                    </tr>
                    <tr>
                        <td>首件信息</td>
                        <td>OK/NG后OK</td>
                        <td>首件操作人</td>
                        <td>{{tableData.Burin}}</td>
                        <td>开始时间</td>
                        <td>{{tableData.Burin}}</td>
                        <td>完成时间</td>
                        <td>{{tableData.Burin}}</td>
                    </tr>
                    <tr>
                        <td>完成率</td>
                        <td>{{tableData.Burin}}</td>
                        <td>合格率</td>
                        <td>{{tableData.Burin}}</td>
                        <td>直通率</td>
                        <td>{{tableData.Burin}}</td>
                        <td>作业时长</td>
                        <td>{{tableData.Burin}}</td>
                    </tr>
                    <tr>
                        <td>异常记录清单</td>
                        <td>{{tableData.Burin}}</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <th colspan="8">校正</th>
                    </tr>
                    <tr>
                        <td>开始时间</td>
                        <td>{{tableData.Calibration}}</td>
                        <td>完成时间</td>
                        <td>{{tableData.Calibration}}</td>
                        <td>完成率</td>
                        <td>{{tableData.Calibration}}</td>
                        <td>合格率</td>
                        <td>{{tableData.Calibration}}</td>
                    </tr>
                    <tr>
                        <td>直通率</td>
                        <td>{{tableData.Calibration}}</td>
                        <td>作业时长</td>
                        <td>{{tableData.Calibration}}</td>
                        <td>异常记录清单</td>
                        <td>{{tableData.Calibration}}</td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <th colspan="8">外观电检</th>
                    </tr>
                    <tr>
                        <td>首件信息</td>
                        <td>OK/NG后OK</td>
                        <td>首件操作人</td>
                        <td>{{tableData.Appearance}}</td>
                        <td>开始时间</td>
                        <td>{{tableData.Appearance}}</td>
                        <td>完成时间</td>
                        <td>{{tableData.Appearance}}</td>
                    </tr>
                    <tr>
                        <td>完成率</td>
                        <td>{{tableData.Appearance}}</td>
                        <td>合格率</td>
                        <td>{{tableData.Appearance}}</td>
                        <td>直通率</td>
                        <td>{{tableData.Appearance}}</td>
                        <td>作业时长</td>
                        <td>{{tableData.Appearance}}</td>
                    </tr>
                    <tr>
                        <td>异常记录清单</td>
                        <td>{{tableData.Appearance}}</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <th colspan="8">包装</th>
                    </tr>
                    <tr>
                        <td>开始时间</td>
                        <td>{{tableData.Package}}</td>
                        <td>完成时间</td>
                        <td>{{tableData.Package}}</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <th colspan="8">入库出库</th>
                    </tr>
                    <tr>
                        <td>入库开始时间</td>
                        <td>{{tableData.Warehouse}}</td>
                        <td>入库最后时间</td>
                        <td>{{tableData.Warehouse}}</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>出库开始时间</td>
                        <td>{{tableData.Warehouse}}</td>
                        <td>出库最后时间</td>
                        <td>{{tableData.Warehouse}}</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>库存时长</td>
                        <td>{{tableData.Warehouse}}</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>@**@
                </table>
            </el-row>
            <el-row>
                <span>订单号：</span>
                <el-select v-model="selectVal" placeholder="输入内容可查询" filterable size="medium" style="width:220px;">
                    <el-option v-for="item in selectOptions"
                               :key="item.value"
                               :value="item.value">
                    </el-option>
                </el-select>
            </el-row>
        </el-main>
    </el-container>
</div>

<script>
    var app = new Vue({
        el: "#app",
        data: {
            loading: false,
            selectOptions: [],
            selectVal: '',
            screenSize: document.body.clientWidth,
            tableData: {}
        },
        methods: {
            OrderNumReport(v) {
                axios.post('/Query/OrderNumReport', { ordernum: v }).then(res => {
                    console.log(res.data);
                    this.tableData = res.data;
                }).catch(err => {
                    console.warn(err);
                });
            }
        },
        created: function () {
            axios.post('/Packagings/GetOrderList').then(rer => {
                this.selectOptions = rer.data;
            }).catch(err => {
                console.warn("获取选择列表失败")
            });
            window.onresize = function () {
                app.screenSize = document.body.clientWidth;
            };
            this.selectVal = '2017-TEST-1'
        },
        mounted: function () {

        },
        watch: {
            selectVal: function (v) {
                v !== '' && this.OrderNumReport(v);
            },
        },
    });
</script>