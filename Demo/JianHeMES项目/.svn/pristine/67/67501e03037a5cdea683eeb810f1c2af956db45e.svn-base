
<script type="text/template" id="infoComponent">
    <el-row class="info">
        <el-col span="14">
            <el-row><b>订单 {{ordernum}} 基本情况</b></el-row>
            <el-divider class="base-divider"></el-divider>
            <el-row class="base-info">
                <div>订单的模组总量：<b>{{baseinfo.Boxs}}</b></div>
                <div>总操作数量：<b>{{baseinfo.totalCount}}</b></div>
                <div>正常数量：<b>{{baseinfo.normalCount}}</b></div>
                <div>异常数量：<b>{{baseinfo.abnormalCount}}</b></div>
                <div>完成率：<b>{{baseinfo.completeRate}}</b></div>
                <div>总时长：<b>{{baseinfo.totalTime}}</b></div>
                <div>平均时长：<b>{{baseinfo.averageTime}}</b></div>
                <div>查询时间：<b>{{baseinfo.selectTime}}</b></div>
            </el-row>
            <el-divider class="base-divider"></el-divider>
            <el-row class="statu-row">
                <el-col v-for="item in statuList" class="statu-col">
                    <div>{{item.name}}：{{item.List.length}}个</div>
                    <div class="statu-list">
                        <ul>
                            <li v-for="i in item.List">{{i}}</li>
                        </ul>
                    </div>
                </el-col>
            </el-row>
            <el-divider class="base-divider"></el-divider>
        </el-col>
        <el-col span="5" v-show="screensize>992">
            <div id="groupPie" class="echart-div"></div>
        </el-col>
        <el-col span="5" v-show="screensize>992">
            <div id="statuePie" class="echart-div"></div>
        </el-col>
    </el-row>
</script>
<script>
    Vue.component('info-component', {
        props: ['screensize', 'infodata'],
        template: document.getElementById("infoComponent"),
        data: function () {
            return {
                ordernum: null,
                baseinfo: {},
                statuList: [],
                groupPie: [],
                statuePie: [],
                echartOption: null,
            }
        },
        created: function () {
            this.echartOption = {
                title: { left: 'center' },
                tooltip: { trigger: 'item', formatter: '{a} <br/>{b} : {c} ({d}%)' },
                color: ["#22c49e", "#f7c73a", "#ff8590"],
                legend: { bottom: 0, left: 'center' },
                series: [
                    {
                        name: '数量信息(占比)',
                        type: 'pie',
                        radius: '50%',
                        center: ['50%', '50%'],
                        emphasis: {
                            itemStyle: {
                                shadowBlur: 10,
                                shadowOffsetX: 0,
                                shadowColor: 'rgba(0, 0, 0, 0.5)'
                            }
                        }
                    }
                ]
            };
        },
        mounted: function () {
            this.groupPie = echarts.init(document.getElementById('groupPie'));
            this.statuePie = echarts.init(document.getElementById('statuePie'));
            this.groupPie.setOption(this.echartOption);
            this.statuePie.setOption(this.echartOption);
        },
        watch: {
            infodata(v) {
                this.ordernum = v.ordernum;
                this.baseinfo = v.baseinfo;
                this.statuList = v.statuList;
                this.groupPie.setOption(v.groupPie);
                this.statuePie.setOption(v.statuePie);
            }
        }
    });
</script>
