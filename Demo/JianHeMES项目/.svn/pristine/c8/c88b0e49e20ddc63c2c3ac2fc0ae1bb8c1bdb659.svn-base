@{
    ViewBag.Title = "库存金额查询";
}
@* css放置处 *@
<link href="~/Content/tableStyle/index.css" rel="stylesheet" />
@section cssStyle {
    <link rel="stylesheet/less" type="text/css" href="~/Content/tableStyle/StockAmount.less" />
    <style>
        #app {
            padding: 10px 20px 0 20px;
            font-family: '微软雅黑';
        }

        .el-table__header tr, .el-table__header th {
            padding: 0;
            height: 25px;
            line-height: 35px;
        }

        .el-table td div {
            font-size: 12px;
            color: #293038
        }

        .select-style {
            margin: 15px 0px 15px 0px
        }
        .el-table tr {
            height: 35px;
        }
    </style>
}
<div id="app">
    <el-header class="text-center">
        <h3>库存金额信息</h3>
        <sa-header :active="active"></sa-header>
    </el-header>
    <div class="select-style">
        <el-date-picker v-model="inputDate"
                        type="year"
                        placeholder="选择年"
                        size="small" style="width:180px">
        </el-date-picker>
    </div>
    <el-table v-bind:data="tableData"
              style="width:100%"
              max-height="623" border stripe>
        <el-table-column prop="Time"
                         label="月份"
                         width="170">
        </el-table-column>
        <el-table-column prop="Finance_Assessor"
                         label="财务审核人"
                         width="170">
        </el-table-column>
        <el-table-column prop="Finance_Assessed_Date"
                         label="财务审核时间"
                         width="170">
        </el-table-column>
        <el-table-column prop="PMC_Assessor"
                         label="PMC审核人"
                         width="170">
        </el-table-column>
        <el-table-column prop="PMC_Assessed_Date"
                         label="PMC审核时间"
                         width="170">
        </el-table-column>
        <el-table-column prop="Director_Approver"
                         label="中心总监审核"
                         width="170">
        </el-table-column>
        <el-table-column prop="Director_Approved_Date"
                         label="中心总监审核时间"
                         width="170">
        </el-table-column>
        <el-table-column prop="FactoryManager_Approver"
                         label="厂长核准"
                         width="170">
        </el-table-column>
        <el-table-column prop="FactoryManager_Approved_Date"
                         label="厂长核准时间"
                         width="170">
        </el-table-column>
        <el-table-column prop=""
                         label="操作">
            <template slot-scope="scope">
                <u style="color:#409eff" v-on:click="goDisplay(scope.row)">详细</u>                
            </template>
        </el-table-column>
    </el-table>
</div>
@* 分部页放置处 *@
@section renderPage {
    @RenderPage("~/Views/Warehouse_Material/_SA_Header.cshtml")
}
@* js放置处 *@
@section jsScript {
    <script src="~/Scripts/jquery-1.11.3.min.js"></script>
    <script>
        const app = {
            data: function () {
                return {
                    active: "",
                    inputDate: "",
                    tableData: []
                }
            },
            methods: {
                getDate() {
                    axios.post("/Warehouse_Material/SA_Index", { year: this.inputDate }).then(res => {
                        this.tableData = res.data
                        console.log(res.data)
                    })
                },
                goDisplay(item) {
                    window.open("/Warehouse_Material/StockAmount_Query?" + "time=" + item.Time);
                },
            },
            watch: {
                inputDate() {
                    if (this.inputDate != "" || this.inputDate != null) {
                        this.getDate()
                    }
                }
            }
        };

    </script>
}