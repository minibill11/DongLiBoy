<!DOCTYPE html>
<html style="" class=" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients no-cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths"><head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> - 健和光电MES</title>
    <script src="SMT%E4%BA%A7%E7%BA%BF%E6%93%8D%E4%BD%9C%E9%A1%B5%E9%9D%A2_files/jquery"></script>

    <script src="SMT%E4%BA%A7%E7%BA%BF%E6%93%8D%E4%BD%9C%E9%A1%B5%E9%9D%A2_files/jqueryform"></script>

    <script src="SMT%E4%BA%A7%E7%BA%BF%E6%93%8D%E4%BD%9C%E9%A1%B5%E9%9D%A2_files/jqueryval"></script>

    <script src="SMT%E4%BA%A7%E7%BA%BF%E6%93%8D%E4%BD%9C%E9%A1%B5%E9%9D%A2_files/jqueryvalAll"></script>

    <script src="SMT%E4%BA%A7%E7%BA%BF%E6%93%8D%E4%BD%9C%E9%A1%B5%E9%9D%A2_files/home"></script>

    <script src="SMT%E4%BA%A7%E7%BA%BF%E6%93%8D%E4%BD%9C%E9%A1%B5%E9%9D%A2_files/common"></script>

    <link href="SMT%E4%BA%A7%E7%BA%BF%E6%93%8D%E4%BD%9C%E9%A1%B5%E9%9D%A2_files/easyui" rel="stylesheet">

    <link href="SMT%E4%BA%A7%E7%BA%BF%E6%93%8D%E4%BD%9C%E9%A1%B5%E9%9D%A2_files/easyuicss.css" rel="stylesheet">

    <script src="SMT%E4%BA%A7%E7%BA%BF%E6%93%8D%E4%BD%9C%E9%A1%B5%E9%9D%A2_files/modernizr"></script>

    <script src="SMT%E4%BA%A7%E7%BA%BF%E6%93%8D%E4%BD%9C%E9%A1%B5%E9%9D%A2_files/bootstrap"></script>

    <link href="SMT%E4%BA%A7%E7%BA%BF%E6%93%8D%E4%BD%9C%E9%A1%B5%E9%9D%A2_files/css.css" rel="stylesheet">

    <script src="SMT%E4%BA%A7%E7%BA%BF%E6%93%8D%E4%BD%9C%E9%A1%B5%E9%9D%A2_files/echarts"></script>

    <script src="SMT%E4%BA%A7%E7%BA%BF%E6%93%8D%E4%BD%9C%E9%A1%B5%E9%9D%A2_files/vue"></script>

    <script src="SMT%E4%BA%A7%E7%BA%BF%E6%93%8D%E4%BD%9C%E9%A1%B5%E9%9D%A2_files/highcharts.html"></script>

</head>
<body>
    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                
                <a class="navbar-brand" href="http://localhost:18863/">健和光电MES</a>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li class="dropdown">
                        
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            全厂温湿度
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu collapse" style="text-align: center; min-width: 114px;">
                            <li><a href="http://localhost:18863/KongYaHT/KongYa/FirstFloor">一楼</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/KongYaHT/KongYa/ThirdFloor">三楼</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/KongYaHT/KongYa/FourthFloor">四楼</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/KongYaHT/KongYa/FifthFloor">五楼</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/KongYaHT/KongYa/Sixthfloor">六楼</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/KongYaHT/KongYa/FloorDataShow">汇总表</a></li>
                        </ul>
                    </li>
                    
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            空压机房
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu collapse" style="text-align: center; min-width: 114px;">
                            <li><a href="http://localhost:18863/KongYaHT/KongYa">空压机房</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/KongYaHT/KongYa/KYDataShow">汇总表</a></li>
                        </ul>
                    </li>
                    
                    <li><a href="http://localhost:18863/ProductionControl">生产管控</a></li>
                    
                    
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            订单
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu collapse" style="text-align: center; min-width: 114px;">
                            <li><a href="http://localhost:18863/OrderMgms">订单管理</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/BarCodes">条码管理</a></li>
                        </ul>
                    </li>

                    
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            装配一部
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu collapse" style="text-align: center; min-width: 114px;">
                            <li><a href="http://localhost:18863/Assembles/AssembleIndex">组装产线</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/CalibrationRecords">校正信息</a></li>
                        </ul>
                    </li>

                    
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            品质部
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu collapse" style="text-align: center; min-width: 114px;">
                            <li><a href="http://localhost:18863/Assembles/AssembleIndex">组装PQC</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/Burn_in">老化OQC</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/Appearances">外观包装</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/IQCReports">IQC管理</a></li>
                        </ul>
                    </li>
                    

                    

                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            SMT部
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu collapse" style="text-align: center; min-width: 114px;">
                            <li><a href="http://localhost:18863/SMT/SMT_Mangage">看板管理</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/SMT/SMT_ProductionInfo">生产信息</a></li>
                            <li class="divider"></li>
                            <li><a href="http://localhost:18863/SMT/SMT_Operator">产线操作</a></li>
                        </ul>
                    </li>
                        <li><a href="http://localhost:18863/Users">用户管理</a></li>
                </ul>

                <div class="collapse navbar-collapse">
                    <ul class="nav navbar navbar-nav navbar-right">
                        <li>

                            
                            </li><li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                    郑振彪
                                    <b class="caret"></b>
                                </a>
                                <ul class="dropdown-menu collapse" style="text-align: center; min-width: 100px;">
                                    <li>
                                        <a href="http://localhost:18863/Users/Modifypwd/11">修改密码</a>
                                    </li>
                                </ul>
                            </li>
                            <li>
<a href="http://localhost:18863/Users/Logoff">退出</a>                            </li>
                        </ul>
                    </div>
                    
                </div>
            </div>
        </div>
        <div class="container body-content">
            




<style>
    html, body, .container, .SMTLine {
        height: 98%;
    }

    body {
        background-color: #dff0d8;
        color: #555;
    }

    .SMTLineTitle {
        width: 100%;
        height: 18%;
        margin-bottom: 0 !important;
    }

        .SMTLineTitle > div {
            position: relative;
            float: left;
            width: 33.3%;
            height: 100%;
        }

    .Line, .Line > span {
        font-size: 50px;
        margin: 30px 0 0 0;
        text-align: center;
        color: #289c12;
        z-index: -2;
        overflow: hidden;
        white-space: nowrap;
    }

    .lineInfo {
        position: absolute;
        right: 0px;
        bottom: 1px;
        height: 80px;
        width: 200px;
        z-index: -1;
    }

    .SMTContent {
        position: relative;
        border-top: 2px solid #808080;
        width: 100%;
        height: 82%;
        margin-bottom: 0 !important;
    }

    .leftContent {
        position: absolute;
        left: 0;
        border-right: 2px solid #808080;
        width: 39%;
        height: 100%;
        padding: 50px 20px;
    }

        .leftContent div {
            margin-bottom: 30px;
            height: 34px;
        }

    .rightContent {
        position: absolute;
        right: 0;
        width: 60%;
        height: 100%;
        padding: 10px 100px;
    }

        .rightContent > div {
            margin: 5px 0;
            height: 70px;
            font-size: 15px;
        }

    #lineSelect {
        border: 1px solid #808080;
        -moz-appearance: none;
        -webkit-appearance: none;
        text-align: center;
        padding-right: 11px;
    }

    #selectLine li {
        list-style: none;
        display: block;
        float: left;
        width: 110px;
        height: 110px;
        padding-top: 33px;
        background-color: #53c8ff;
        margin: 20px;
        vertical-align: middle;
        text-align: center;
        font-size: 30px;
        cursor: pointer;
        border-radius: 50%;
        box-shadow: #021203 5px 5px 20px 5px inset;
    }

    .planOrder ul {
        list-style: none;
        padding-left: 0;
    }

    .planOrderName div {
        font-weight: bold;
    }

    .colorG {
        color: #289c12;
    }

    .colorR {
        color: #334BFF;
    }

    .colorY {
        color: #1368BC;
    }

    .colorB {
        color: #F33;
    }
</style>


    <meta name="viewport" content="width=device-width">
    <title>SMT</title>


    <div id="app" class="container"><div class="SMTLine"><div class="SMTLineTitle row"><div class="col-md-3"></div> <div class="col-md-6"><p class="Line">
                        SMT-
                        <select id="lineSelect"><option value="1" selected="selected">1</option> <option value="2">2</option> <option value="3">3</option> <option value="4">4</option> <option value="5">5</option> <option value="6">6</option> <option value="7">7</option> <option value="8">8</option> <option value="9">9</option> <option value="10">10</option> <option value="11">11</option> <option value="12">12</option> <option value="13">13</option> <option value="14">14</option></select>
                        线
                    </p></div> <div class="col-md-3"><div class="lineInfo colorR"><p>班组：张三</p> <p>组长：李四</p></div><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----></div></div> <div class="row SMTContent"><div class="col-md-5 leftContent"><div class="form-horizontal"><div class="form-group"><label for="orderNum" class="control-label col-md-3">订单号</label> <div class="col-md-9"><input id="orderNum" placeholder="请扫描订单号" class="form-control text-box single-line" type="text"></div></div> <div class="form-group"><label for="isNormal" class="control-label col-md-3 colorB">正常/异常</label> <div class="col-md-9"><input id="isNormal" placeholder="请扫描正/异常" class="form-control text-box single-line" type="text"> <br> <div id="ruturnMessage"></div></div></div> <br> <div class="form-group"><div class="col-md-9 col-md-offset-3"><button class="btn btn-default">True</button> <button class="btn btn-default">False</button></div></div> <div class="form-group"><div class="col-md-offset-3 col-md-9"><button class="btn btn-default">完成输入</button></div></div></div></div> <div class="col-md-7 rightContent"><div><h2 class="text-center">产线<span>1</span>统计：</h2> <h3 class="colorY">正在生产订单：<span>2018-TEST-001</span></h3> <h3>今天生产数量汇总：1000个</h3> <br> <div class="row planOrderName colorG"><div class="col-md-4">今天计划生产订单：</div> <div class="planOrder col-md-8"><ul><li>2018-TEST-001</li></ul><ul><li>2018-TEST-111</li></ul><ul><li>2018-TEST-102</li></ul></div></div> <h3>产线累计生产数量：100个</h3> <h3 class="colorB">产线状态：<span>生产中</span></h3> <br> <table class="table table-bordered colorR"><colgroup><col style="width: 34%;"> <col style="width: 15%;"> <col style="width: 15%;"> <col style="width: 18%;"> <col style="width: 18%;"></colgroup> <tbody><tr><th>今天生产订单</th> <th>合格品</th> <th>不良品</th> <th>不良率</th> <th>完成率</th></tr> <tr><td>2018-TEST-001</td> <td>95</td> <td>5</td> <td>5.00%</td> <td>10.00%</td></tr><tr><td>2018-TEST-111</td> <td>95</td> <td>5</td> <td>5.00%</td> <td>6.67%</td></tr><tr><td>2018-TEST-102</td> <td>350</td> <td>50</td> <td>12.50%</td> <td>36.36%</td></tr><tr><td>2018-TEST-101</td> <td>350</td> <td>50</td> <td>12.50%</td> <td>26.67%</td></tr></tbody></table></div><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----></div></div></div></div>

    <script>
        Vue.directive('focus', {
            inserted: function (el) {
                el.focus()
            }
        });
        var app = new Vue({
            el: "#app",
            data: {
                LineDataList: [],
                lineSelect: "0",
                isNormal: ""
            },
            methods: {
                lineDetail: function () {
                    var orderNum = $("#orderNum").val();
                    var isNormal = $("#isNormal").val();
                    if (orderNum != "" && isNormal != "") {
                        if (isNormal == "true" || isNormal == "false") {
                            $.ajax({
                                type: 'post',
                                url: "/SMT/SMT_Operator/",
                                data: {
                                    LineNum: app.lineSelect,
                                    OrderNum: orderNum,
                                    Result: isNormal
                                },
                                success: function (data) {
                                    console.log(data);
                                    $("#ruturnMessage").append($("<span style=\"color:red\">" + data + "</span>"));
                                    setTimeout(function () {
                                        $("#ruturnMessage").children().remove();
                                    }, 3000);
                                    $("#isNormal").focus();
                                },
                                error: function (XMLHttpRequest, textStatus, errorThrown) {
                                    alert("POST失败")
                                }
                            });
                        } else {
                            $("#ruturnMessage").append($("<span style=\"color:red\">正常/异常 内容不正确</span>"));
                            setTimeout(function () {
                                $("#ruturnMessage").children().remove();
                            }, 3000);
                        };
                    } else {
                        $("#ruturnMessage").append($("<span style=\"color:red\">输入内容不能为空</span>"));
                        setTimeout(function () {
                            $("#ruturnMessage").children().remove();
                        }, 3000);
                    };
                },
                orderEnder: function () {
                    $("#isNormal").focus();
                },
                enter: function (el) {
                    $(this).focus();
                    this.$options.methods.lineDetail();
                }
            },
            watch: {

            },
            computed: {

            },
            created: function () {

            }
        });
        $("#selectLine li").click(function (val) {
            app.lineSelect = $(this).val();
        });
    </script>

    <script src="SMT%E4%BA%A7%E7%BA%BF%E6%93%8D%E4%BD%9C%E9%A1%B5%E9%9D%A2_files/jquery-1.js"></script>
    <script src="SMT%E4%BA%A7%E7%BA%BF%E6%93%8D%E4%BD%9C%E9%A1%B5%E9%9D%A2_files/jquery.js"></script>
    <script src="SMT%E4%BA%A7%E7%BA%BF%E6%93%8D%E4%BD%9C%E9%A1%B5%E9%9D%A2_files/hubs"></script>
    <script>
        $(function () {
            var mypush = $.connection.SMT;
            mypush.client.sendSMT_Operator = function (SMT_Operator) {
                console.log(SMT_Operator)
                app.LineDataList = [];
                console.log(Object.keys(SMT_Operator).length)
                for (index in SMT_Operator) {
                    var normal = SMT_Operator[index].LineTodayFinishOrderNormal.split(",");
                    var abnormal = SMT_Operator[index].LineTodayFinishOrderAbnormal.split(",");
                    var OrderQuantity = SMT_Operator[index].OrderQuantity.split(",");
                    var OrderAbnormalRateList = [];
                    var OrderTotalFinishRateList = [];
                    for (item in normal) {
                        var normalCount = parseInt(normal[item]) + parseInt(abnormal[item]);
                        OrderAbnormalRateList.push(((abnormal[item] / normalCount) * 100).toFixed(2) + "%");
                        OrderTotalFinishRateList.push(((normalCount / parseInt(OrderQuantity[item])) * 100).toFixed(2) + "%");
                    };
                    app.LineDataList.push({
                        LinePlanOrder: SMT_Operator[index].LinePlanOrder,
                        LineDoingOrder: SMT_Operator[index].LineDoingOrder,
                        LineTodayFinishOrderQuantity: SMT_Operator[index].LineTodayFinishOrderQuantity,
                        LineTotalQuantity: SMT_Operator[index].LineTotalQuantity,
                        Team: SMT_Operator[index].Team,
                        GroupLeader: SMT_Operator[index].GroupLeader,
                        LineStatus: SMT_Operator[index].LineStatus,
                        LineTodayFinishOrder: SMT_Operator[index].LineTodayFinishOrder,
                        LineTodayFinishOrderNormal: SMT_Operator[index].LineTodayFinishOrderNormal,
                        LineTodayFinishOrderAbnormal: SMT_Operator[index].LineTodayFinishOrderAbnormal,

                        //OrderQuantity: SMT_Board[index].OrderQuantity,
                        OrderAbnormalRate: OrderAbnormalRateList,
                        OrderTotalFinishRate: OrderTotalFinishRateList
                    });
                };
            };
            //启动
            $.connection.hub.start();
        });
    </script>

<!-- Visual Studio Browser Link -->
<script type="application/json" id="__browserLink_initializationData">
    {"appName":"Firefox","requestId":"daac89cfbedd40338bae75f16ef2bdd1"}
</script>
<script type="text/javascript" src="SMT%E4%BA%A7%E7%BA%BF%E6%93%8D%E4%BD%9C%E9%A1%B5%E9%9D%A2_files/browserLink" async="async"></script>
<!-- End Browser Link -->



            
            <hr>
            <footer>
                <p align="center">© 2018 - 健和光电MES</p>
            </footer>
        </div>

    

<div id="translate-man-app" class="content-3WfBL_0" style="background-color: rgb(255, 255, 255); display: none;"><div data-v-ea0bd11e="" class="outputBox-qe9A4_0"><div data-v-ea0bd11e="" class="outputBox-3oESn_0"><span data-v-ea0bd11e="" class="outputBox-13Ovx_0"></span><!----></div><div data-v-ea0bd11e="" class="outputBox-1GLb__0"><!----><div data-v-ea0bd11e="" class="outputBox-onVZH_0"><img src="SMT%E4%BA%A7%E7%BA%BF%E6%93%8D%E4%BD%9C%E9%A1%B5%E9%9D%A2_files/sound.svg" class="icon-tprjJ_0"></div></div><div data-v-ea0bd11e="" class="outputBox-2sJgr_0"></div><div data-v-ea0bd11e="" class="outputBox-17RAm_0" style="display: none;"><!----><!----><!----><div data-v-ea0bd11e=""></div></div></div></div></body></html>