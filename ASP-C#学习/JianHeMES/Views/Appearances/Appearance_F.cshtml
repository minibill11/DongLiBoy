@model JianHeMES.Models.Appearance
@{
    ViewBag.Title = "外观包装工作";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<script src="~/Scripts/jquery-1.11.3.js"></script>
<style>
    #AbnormalTable .table > tbody > tr > th, #AbnormalTable .table > tbody > tr > td {
        padding: 2px;
        line-height: 1.2;
    }
    #AbnormalTable .table {
        margin-bottom: 5px;
    }
    #AbnormalTable .panel-title {
        text-align: center;
    }
    #AbnormalTable label {
        font-weight: normal;
    }
    #AbnormalTable {
        display: none;
    }
    .abnormalFrame {
        width: 280px;
        height: 200px;
        border: 1px solid #000000;
        overflow: auto;
    }
</style>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
<div id="app" class="form-horizontal">
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
    @Html.HiddenFor(model => model.Id)
    @Html.HiddenFor(model => model.OrderNum)
    @Html.HiddenFor(model => model.ToOrderNum)
    @Html.HiddenFor(model => model.BarCodesNum)
    @Html.HiddenFor(model => model.ModuleGroupNum)
    @Html.HiddenFor(model => model.OQCCheckBT)


    <div class="col-md-4">
        <h3 class="hidden-xs">@ViewBag.Title</h3>
        <h4 class="visible-xs text-center">@ViewBag.Title</h4>
        <hr class="hidden-xs" />
        <div class="form-group">
            @Html.LabelFor(model => model.OrderNum, htmlAttributes: new { @class = "control-label col-md-4 col-xs-5" })
            <div class="col-md-8 col-xs-7">
                @Html.DisplayFor(model => model.OrderNum)
                @*@Html.EditorFor(model => model.OrderNum, new { htmlAttributes = new { @class = "form-control" } })*@
                @Html.ValidationMessageFor(model => model.OrderNum, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.BarCodesNum, htmlAttributes: new { @class = "control-label col-md-4 col-xs-5" })
            <div class="col-md-8 col-xs-7">
                @Html.DisplayFor(model => model.BarCodesNum)
                @*@Html.EditorFor(model => model.BarCodesNum, new { htmlAttributes = new { @class = "form-control" } })*@
                @Html.ValidationMessageFor(model => model.BarCodesNum, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.ModuleGroupNum, htmlAttributes: new { @class = "control-label col-md-4 col-xs-5" })
            <div class="col-md-8 col-xs-7">
                @Html.DisplayFor(model => model.ModuleGroupNum)
                @*@Html.EditorFor(model => model.BarCodesNum, new { htmlAttributes = new { @class = "form-control" } })*@
                @Html.ValidationMessageFor(model => model.ModuleGroupNum, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.OQCCheckBT, htmlAttributes: new { @class = "control-label col-md-4 col-xs-5" })
            <div class="col-md-8 col-xs-7">
                @Html.DisplayFor(model => model.OQCCheckBT)
                @*@Html.EditorFor(model => model.OQCCheckBT, new { htmlAttributes = new { @class = "form-control" } })*@
                @Html.ValidationMessageFor(model => model.OQCCheckBT, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.Remark, htmlAttributes: new { @class = "control-label col-md-4 col-xs-5" })
            <div class="col-md-8 col-xs-7">
                @Html.EditorFor(model => model.Remark, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Remark, "", new { @class = "text-danger" })

            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.RepairCondition, htmlAttributes: new { @class = "control-label col-md-4 col-xs-5" })
            <div class="col-md-8 col-xs-7">
                @Html.DropDownListFor(model => model.RepairCondition,
           ViewBag.RepairList as IEnumerable<SelectListItem>, new { @class = "form-control" })
                @*@Html.EditorFor(model => model.RepairCondition, new { htmlAttributes = new { @class = "form-control" } })*@
                @Html.ValidationMessageFor(model => model.RepairCondition, "", new { @class = "text-danger" })
            </div>
        </div>
        
        <div id="AbnormalShow" class="form-group" style="display:none">
            @Html.LabelFor(model => model.Appearance_OQCCheckAbnormal, htmlAttributes: new { @class = "control-label col-md-4" })
            <div class="col-md-8">
                @*<textarea v-model="abnormalarea" style="width:280px;height:100px;"></textarea>*@
                @Html.EditorFor(model => model.Appearance_OQCCheckAbnormal, new { htmlAttributes = new { @class = "form-control", @style = "display:none" } })
                <div class="abnormalFrame">
                    <ol>
                        <li v-for="abnormal in abnormalarea">
                            {{abnormal}}
                        </li>
                    </ol>
                </div>
                @Html.ValidationMessageFor(model => model.Appearance_OQCCheckAbnormal, "", new { @class = "text-danger" })
            </div>
        </div>

        


        <div class="form-group">
            <div class="col-md-offset-2 col-md-8">
                <input type="submit" value="结束外观包装" class="btn btn-default" />
            </div>
        </div>
        <div class="hidden-xs">
            @Html.ActionLink("返回", "Index")
        </div>
    </div>

    <div id="AbnormalTable" class="col-md-offset-1 col-md-7">
        <br class="hidden-xs" /><br />
        <div class="panel panel-default">
            <div class="panel-heading">
                <h6 class="panel-title">异常列表</h6>
            </div>
            <div class="panel-body">
                <div class="col-md-6">
                    <table class="table">
                        <tr><th colspan="4">螺丝</th></tr>
                        <tr>
                            <td>
                                <input type="checkbox" id="2" value="（螺丝）-漏打螺丝" v-model="abnormalarea">
                                <label for="2">漏打螺丝</label>
                            </td>
                            <td>
                                <input type="checkbox" id="3" value="（螺丝）-不到位" v-model="abnormalarea">
                                <label for="3">不到位</label>
                            </td>
                            <td>
                                <input type="checkbox" id="4" value="（螺丝）-打滑" v-model="abnormalarea">
                                <label for="4">打滑</label>
                            </td>
                            <td>
                                <input type="checkbox" id="5" value="（螺丝）-打花" v-model="abnormalarea">
                                <label for="5">打花</label>
                            </td>
                        </tr>
                    </table>
                    <table class="table">
                        <tr><th colspan="3">R/G/B/W/扫描确认</th></tr>
                        <tr>
                            <td>
                                <input type="checkbox" id="6" value="（R/G/B/W/扫描确认）-扫描错位" v-model="abnormalarea">
                                <label for="6">扫描错位</label>
                            </td>
                            <td>
                                <input type="checkbox" id="7" value="（R/G/B/W/扫描确认）-掉灯" v-model="abnormalarea">
                                <label for="7">掉灯</label>
                            </td>
                            <td>
                                <input type="checkbox" id="8" value="（R/G/B/W/扫描确认）-瞎灯" v-model="abnormalarea">
                                <label for="8">瞎灯</label>
                            </td>
                        </tr>
                        <tr><th colspan="3">品牌</th></tr>
                        <tr>
                            <td>
                                <input type="checkbox" id="9" value="（品牌）-不整齐" v-model="abnormalarea">
                                <label for="9">不整齐</label>
                            </td>
                            <td>
                                <input type="checkbox" id="10" value="（品牌）-错误" v-model="abnormalarea">
                                <label for="10">错误</label>
                            </td>
                            <td>
                                <input type="checkbox" id="11" value="（品牌）-翘角" v-model="abnormalarea">
                                <label for="11">翘角</label>
                            </td>
                        </tr>
                        <tr><th colspan="3">LOGO</th></tr>
                        <tr>
                            <td>
                                <input type="checkbox" id="12" value="（LOGO）-刮花" v-model="abnormalarea">
                                <label for="12">刮花</label>
                            </td>
                            <td>
                                <input type="checkbox" id="13" value="（LOGO）-错误" v-model="abnormalarea">
                                <label for="13">错误</label>
                            </td>
                            <td>
                                <input type="checkbox" id="14" value="（LOGO）-颜色" v-model="abnormalarea">
                                <label for="14">颜色</label>
                            </td>
                        </tr>
                        <tr><th colspan="3">电源</th></tr>
                        <tr>
                            <td>
                                <input type="checkbox" id="15" value="（电源）-漏打螺丝" v-model="abnormalarea">
                                <label for="15">漏打螺丝</label>
                            </td>
                            <td>
                                <input type="checkbox" id="16" value="（电源）-错材" v-model="abnormalarea">
                                <label for="16">错材</label>
                            </td>
                            <td>
                                <input type="checkbox" id="17" value="（电源）-松动" v-model="abnormalarea">
                                <label for="17">松动</label>
                            </td>
                        </tr>
                    </table>

                    <table class="table">

                        <tr><th colspan="2">其他</th></tr>
                        <tr>
                            <td>
                                <input type="checkbox" id="18" value="（模组颜色）-错误" v-model="abnormalarea">
                                <label for="18">模组颜色-错误</label>
                            </td>
                            <td>
                                <input type="checkbox" id="19" value="（划痕）-操作标准" v-model="abnormalarea">
                                <label for="19">划痕-操作标准</label>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="checkbox" id="20" value="（中性包装）" v-model="abnormalarea">
                                <label for="20">中性包装</label>
                            </td>
                            <td>
                                <input type="checkbox" id="21" value="（拍照存档）" v-model="abnormalarea">
                                <label for="21">拍照存档</label>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="checkbox" id="22" value="（内外箱编号）-不对应" v-model="abnormalarea">
                                <label for="22">内外箱编号-不对应</label>
                            </td>
                            <td>
                                <input type="checkbox" id="23" value="（唛头）-错误" v-model="abnormalarea">
                                <label for="23">唛头-错误</label>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <input type="checkbox" id="24" value="（灯面防护）-防护不良" v-model="abnormalarea">
                                <label for="24">灯面防护-防护不良</label>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="checkbox" id="25" value="（模组内部）-找线不一致" v-model="abnormalarea">
                                <label for="25">模组内部-找线不一致</label>
                            </td>
                            <td>
                                <input type="checkbox" id="26" value="（模块方向）-方向错误" v-model="abnormalarea">
                                <label for="26">模块方向-方向错误</label>
                            </td>
                        </tr>

                    </table>
                </div>
                <div class="col-md-6">
                    <table class="table">
                        <tr><th colspan="2">系统卡</th></tr>
                        <tr>
                            <td>
                                <input type="checkbox" id="27" value="（系统卡）-错材" v-model="abnormalarea">
                                <label for="27">错材</label>
                            </td>
                            <td>
                                <input type="checkbox" id="28" value="（系统卡）-死卡" v-model="abnormalarea">
                                <label for="28">死卡</label>
                            </td>
                        </tr>
                        <tr><th colspan="2">三防</th></tr>
                        <tr>
                            <td>
                                <input type="checkbox" id="29" value="（三防）-漏刷" v-model="abnormalarea">
                                <label for="29">漏刷</label>
                            </td>
                            <td>
                                <input type="checkbox" id="30" value="（三防）-气泡" v-model="abnormalarea">
                                <label for="30">气泡</label>
                            </td>
                        </tr>
                        <tr><th colspan="2">清洁</th></tr>
                        <tr>
                            <td>
                                <input type="checkbox" id="31" value="（清洁）-内部异物" v-model="abnormalarea">
                                <label for="31">内部异物</label>
                            </td>
                            <td>
                                <input type="checkbox" id="32" value="（清洁）-外部异物" v-model="abnormalarea">
                                <label for="32">外部异物</label>
                            </td>
                        </tr>
                        <tr><th colspan="2">门锁</th></tr>
                        <tr>
                            <td>
                                <input type="checkbox" id="33" value="（门锁）-方向不一致" v-model="abnormalarea">
                                <label for="33">方向不一致</label>
                            </td>
                            <td>
                                <input type="checkbox" id="34" value="（门锁）-锁不牢" v-model="abnormalarea">
                                <label for="34">锁不牢</label>
                            </td>
                        </tr>
                        <tr><th colspan="2">箱门</th></tr>
                        <tr>
                            <td>
                                <input type="checkbox" id="35" value="（箱门）-方向不一致" v-model="abnormalarea">
                                <label for="35">方向不一致</label>
                            </td>
                            <td>
                                <input type="checkbox" id="36" value="（箱门）-锁不牢" v-model="abnormalarea">
                                <label for="36">锁不牢</label>
                            </td>
                        </tr>
                        <tr><th colspan="2">胶条、胶垫</th></tr>
                        <tr>
                            <td>
                                <input type="checkbox" id="37" value="（胶条、胶垫）-没装到位" v-model="abnormalarea">
                                <label for="37">没装到位</label>
                            </td>
                            <td>
                                <input type="checkbox" id="38" value="（胶条、胶垫）-错材" v-model="abnormalarea">
                                <label for="38">错材</label>
                            </td>
                        </tr>
                        <tr><th colspan="2">包材</th></tr>
                        <tr>
                            <td>
                                <input type="checkbox" id="39" value="（包材）-真空包装" v-model="abnormalarea">
                                <label for="39">真空包装</label>
                            </td>
                            <td>
                                <input type="checkbox" id="40" value="（包材）-防静电" v-model="abnormalarea">
                                <label for="40">防静电</label>
                            </td>
                        </tr>
                        <tr><th colspan="2">外观</th></tr>
                        <tr>
                            <td>
                                <input type="checkbox" id="41" value="（外观）-印丝不了" v-model="abnormalarea">
                                <label for="41">印丝不了</label>
                            </td>
                            <td>
                                <input type="checkbox" id="42" value="（外观）-破损" v-model="abnormalarea">
                                <label for="42">破损</label>
                            </td>
                        </tr>
                    </table>
                </div>
                
            </div>
        </div>
    </div>
    <div class="visible-xs">
        @Html.ActionLink("返回", "Index")
    </div>
    @*//防位移*@
    <div class="form-group"><div class="col-md-offset-2 col-md-8"></div></div>
</div>
}



@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script>
        var app = new Vue({
            el: "#app",
            data: {
                abnormalarea: [],
                selectrepair: ""
            },
            created:function(){
                $('#Appearance_OQCCheckAbnormal').attr('value', "正常");
            },
            watch: {
                selectrepair:function(val){
                    if (val == "正常") {
                        $("#AbnormalShow").hide();
                        $("#AbnormalTable").hide();
                        this.abnormalarea = ["正常"];
                    } else {
                        $("#AbnormalShow").show();
                        $("#AbnormalTable").show();
                        this.abnormalarea = [];
                    }
                },
                abnormalarea: function (val) {
                    $('#Appearance_OQCCheckAbnormal').attr('value', val);
                }
            }
        });
        $("select").change(function () {
            app.selectrepair = $("select option:checked").val();
        });
</script>
}
